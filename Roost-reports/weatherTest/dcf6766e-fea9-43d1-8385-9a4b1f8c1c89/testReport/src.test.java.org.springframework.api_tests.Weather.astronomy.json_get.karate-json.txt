{"failedCount":9,"prefixedPath":"src\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature","packageQualifiedName":"src.test.java.org.springframework.api_tests.Weather.astronomy.json_get","loopIndex":-1,"relativePath":"src\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":270496,"startTime":1751986995092,"endTime":1751986995092,"millis":0.270496,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['API_HOST']"}},{"result":{"nanos":44691,"startTime":1751986995093,"endTime":1751986995093,"millis":0.044691,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":90782,"startTime":1751986995093,"endTime":1751986995093,"millis":0.090782,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":2,"text":"def authToken = karate.properties['key']"}},{"result":{"nanos":93222,"startTime":1751986995093,"endTime":1751986995093,"millis":0.093222,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":3,"text":"configure headers = { 'Accept': 'application\/json' }"}},{"result":{"nanos":225255,"startTime":1751986995093,"endTime":1751986995093,"millis":0.225255,"status":"passed"},"step":{"line":20,"prefix":"Given","index":0,"text":"path '\/v1\/astronomy.json'"}},{"result":{"nanos":55312,"startTime":1751986995093,"endTime":1751986995093,"millis":0.055312,"status":"passed"},"step":{"line":21,"prefix":"And","index":1,"text":"param key = authToken"}},{"result":{"nanos":125273,"startTime":1751986995093,"endTime":1751986995093,"millis":0.125273,"status":"passed"},"step":{"line":22,"prefix":"And","index":2,"text":"param q = 'London'"}},{"result":{"nanos":117192,"startTime":1751986995093,"endTime":1751986995093,"millis":0.117192,"status":"passed"},"step":{"line":23,"prefix":"And","index":3,"text":"param dt = '2023'"}},{"result":{"nanos":194349170,"startTime":1751986995093,"endTime":1751986995287,"millis":194.34917,"status":"passed"},"step":{"line":24,"prefix":"When","index":4,"text":"method GET"},"stepLog":"15:03:15.094 request:\n1 > GET https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?key=e84a8261d3cd4786a8281927250707&q=London&dt=2023\n1 > Accept: application\/json\n1 > Host: api.weatherapi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.7)\n1 > Accept-Encoding: gzip,deflate\n\n\n15:03:15.287 response time in milliseconds: 193\n1 < 200\n1 < Date: Tue, 08 Jul 2025 15:03:15 GMT\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Vary: Accept-Encoding\n1 < Server: BunnyCDN-SG1-747\n1 < CDN-PullZone: 93447\n1 < CDN-Uid: 8fa3a04a-75d9-4707-8056-b7b33c8ac7fe\n1 < CDN-RequestCountryCode: IN\n1 < Age: 0\n1 < Cache-Control: public, max-age=180\n1 < Via: 1.1 varnish (Varnish\/7.1)\n1 < x-weatherapi-qpm-left: 4999923\n1 < x-varnish: 473116163\n1 < CDN-ProxyVer: 1.31\n1 < CDN-RequestPullSuccess: True\n1 < CDN-RequestPullCode: 200\n1 < CDN-CachedAt: 07\/08\/2025 15:02:39\n1 < CDN-EdgeStorageId: 955\n1 < CDN-RequestId: ff0033606a7d5a9e6f8932bb872da1fc\n1 < CDN-Cache: HIT\n1 < CDN-Status: 200\n1 < CDN-RequestTime: 0\n{\"location\":{\"name\":\"London\",\"region\":\"City of London, Greater London\",\"country\":\"United Kingdom\",\"lat\":51.5171,\"lon\":-0.1062,\"tz_id\":\"Europe\/London\",\"localtime_epoch\":1751987053,\"localtime\":\"2025-07-08 16:04\"},\"astronomy\":{\"astro\":{\"sunrise\":\"04:53 AM\",\"sunset\":\"09:17 PM\",\"moonrise\":\"08:12 PM\",\"moonset\":\"01:57 AM\",\"moon_phase\":\"Waxing Gibbous\",\"moon_illumination\":92,\"is_moon_up\":0,\"is_sun_up\":1}}}\n\n"},{"result":{"nanos":14670,"startTime":1751986995288,"endTime":1751986995288,"millis":0.01467,"status":"passed"},"step":{"line":25,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":460620,"startTime":1751986995288,"endTime":1751986995288,"millis":0.46062,"status":"passed"},"step":{"line":26,"prefix":"And","index":6,"text":"match response.location == '#object'"}},{"result":{"nanos":195935,"startTime":1751986995288,"endTime":1751986995288,"millis":0.195935,"status":"passed"},"step":{"line":27,"prefix":"And","index":7,"text":"match response.location.name == '#string'"}},{"result":{"nanos":97862,"startTime":1751986995288,"endTime":1751986995288,"millis":0.097862,"status":"passed"},"step":{"line":28,"prefix":"And","index":8,"text":"match response.location.region == '#string'"}},{"result":{"nanos":59482,"startTime":1751986995289,"endTime":1751986995289,"millis":0.059482,"status":"passed"},"step":{"line":29,"prefix":"And","index":9,"text":"match response.location.country == '#string'"}},{"result":{"nanos":166124,"startTime":1751986995289,"endTime":1751986995289,"millis":0.166124,"status":"passed"},"step":{"line":30,"prefix":"And","index":10,"text":"match response.location.lat == '#number'"}},{"result":{"nanos":81412,"startTime":1751986995289,"endTime":1751986995289,"millis":0.081412,"status":"passed"},"step":{"line":31,"prefix":"And","index":11,"text":"match response.location.lon == '#number'"}},{"result":{"nanos":58531,"startTime":1751986995289,"endTime":1751986995289,"millis":0.058531,"status":"passed"},"step":{"line":32,"prefix":"And","index":12,"text":"match response.location.tz_id == '#string'"}},{"result":{"nanos":56892,"startTime":1751986995289,"endTime":1751986995289,"millis":0.056892,"status":"passed"},"step":{"line":33,"prefix":"And","index":13,"text":"match response.location.localtime_epoch == '#number'"}},{"result":{"nanos":68041,"startTime":1751986995289,"endTime":1751986995289,"millis":0.068041,"status":"passed"},"step":{"line":34,"prefix":"And","index":14,"text":"match response.location.localtime == '#string'"}},{"result":{"nanos":106993,"startTime":1751986995289,"endTime":1751986995289,"millis":0.106993,"status":"passed"},"step":{"line":35,"prefix":"And","index":15,"text":"match response.astronomy == '#object'"}},{"result":{"nanos":97482,"startTime":1751986995289,"endTime":1751986995289,"millis":0.097482,"status":"passed"},"step":{"line":36,"prefix":"And","index":16,"text":"match response.astronomy.astro == '#object'"}},{"result":{"nanos":84742,"startTime":1751986995289,"endTime":1751986995289,"millis":0.084742,"status":"passed"},"step":{"line":37,"prefix":"And","index":17,"text":"match response.astronomy.astro.sunrise == '#string'"}},{"result":{"nanos":120213,"startTime":1751986995289,"endTime":1751986995289,"millis":0.120213,"status":"passed"},"step":{"line":38,"prefix":"And","index":18,"text":"match response.astronomy.astro.sunset == '#string'"}},{"result":{"nanos":98582,"startTime":1751986995290,"endTime":1751986995290,"millis":0.098582,"status":"passed"},"step":{"line":39,"prefix":"And","index":19,"text":"match response.astronomy.astro.moonrise == '#string'"}},{"result":{"nanos":83111,"startTime":1751986995290,"endTime":1751986995290,"millis":0.083111,"status":"passed"},"step":{"line":40,"prefix":"And","index":20,"text":"match response.astronomy.astro.moonset == '#string'"}},{"result":{"nanos":79591,"startTime":1751986995290,"endTime":1751986995290,"millis":0.079591,"status":"passed"},"step":{"line":41,"prefix":"And","index":21,"text":"match response.astronomy.astro.moon_phase == '#string'"}},{"result":{"nanos":161223,"errorMessage":"match failed: EQUALS\n  $ | not a string (NUMBER:STRING)\n  92\n  '#string'\n\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:42","startTime":1751986995290,"endTime":1751986995290,"millis":0.161223,"status":"failed"},"step":{"line":42,"prefix":"And","index":22,"text":"match response.astronomy.astro.moon_illumination == '#string'"},"stepLog":"15:03:15.290 src\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:42\nAnd match response.astronomy.astro.moon_illumination == '#string'\nmatch failed: EQUALS\n  $ | not a string (NUMBER:STRING)\n  92\n  '#string'\n\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:42\n"}],"line":45,"description":"","durationMillis":197.462899,"failed":true,"error":"match failed: EQUALS\n  $ | not a string (NUMBER:STRING)\n  92\n  '#string'\n\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:42","executorName":"main","name":"Get astronomy data for valid locations","startTime":1751986995092,"refId":"[1.1:45]","endTime":1751986995290,"exampleData":{"location":"London","date":"2023"},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":150063,"startTime":1751986995292,"endTime":1751986995292,"millis":0.150063,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['API_HOST']"}},{"result":{"nanos":23751,"startTime":1751986995292,"endTime":1751986995292,"millis":0.023751,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":68911,"startTime":1751986995292,"endTime":1751986995292,"millis":0.068911,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":2,"text":"def authToken = karate.properties['key']"}},{"result":{"nanos":66201,"startTime":1751986995292,"endTime":1751986995292,"millis":0.066201,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":3,"text":"configure headers = { 'Accept': 'application\/json' }"}},{"result":{"nanos":12200,"startTime":1751986995292,"endTime":1751986995292,"millis":0.0122,"status":"passed"},"step":{"line":20,"prefix":"Given","index":0,"text":"path '\/v1\/astronomy.json'"}},{"result":{"nanos":53561,"startTime":1751986995292,"endTime":1751986995292,"millis":0.053561,"status":"passed"},"step":{"line":21,"prefix":"And","index":1,"text":"param key = authToken"}},{"result":{"nanos":164194,"startTime":1751986995292,"endTime":1751986995292,"millis":0.164194,"status":"passed"},"step":{"line":22,"prefix":"And","index":2,"text":"param q = '90'"}},{"result":{"nanos":22760,"startTime":1751986995292,"endTime":1751986995292,"millis":0.02276,"status":"passed"},"step":{"line":23,"prefix":"And","index":3,"text":"param dt = '2023'"}},{"result":{"nanos":346119422,"startTime":1751986995292,"endTime":1751986995638,"millis":346.119422,"status":"passed"},"step":{"line":24,"prefix":"When","index":4,"text":"method GET"},"stepLog":"15:03:15.293 request:\n1 > GET https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?key=e84a8261d3cd4786a8281927250707&q=90&dt=2023\n1 > Accept: application\/json\n1 > Host: api.weatherapi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.7)\n1 > Accept-Encoding: gzip,deflate\n\n\n15:03:15.638 response time in milliseconds: 345\n1 < 400\n1 < Date: Tue, 08 Jul 2025 15:03:15 GMT\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Vary: Accept-Encoding\n1 < Server: BunnyCDN-SG1-747\n1 < CDN-PullZone: 93447\n1 < CDN-Uid: 8fa3a04a-75d9-4707-8056-b7b33c8ac7fe\n1 < CDN-RequestCountryCode: IN\n1 < Age: 0\n1 < Cache-Control: public, max-age=5\n1 < Via: 1.1 varnish (Varnish\/7.1)\n1 < x-weatherapi-qpm-left: 4999923\n1 < x-varnish: 421254459\n1 < CDN-ProxyVer: 1.31\n1 < CDN-RequestPullSuccess: True\n1 < CDN-RequestPullCode: 400\n1 < CDN-CachedAt: 07\/08\/2025 15:03:15\n1 < CDN-EdgeStorageId: 867\n1 < CDN-RequestId: 780aaa26f6037b86faa8c7ea3530e7fd\n1 < CDN-Cache: EXPIRED\n1 < CDN-Status: 400\n1 < CDN-RequestTime: 0\n{\"error\":{\"code\":1006,\"message\":\"No matching location found.\"}}\n\n"},{"result":{"nanos":74512,"errorMessage":"status code was: 400, expected: 200, response time in milliseconds: 345, url: https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?key=e84a8261d3cd4786a8281927250707&q=90&dt=2023, response: \n{\"error\":{\"code\":1006,\"message\":\"No matching location found.\"}}\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:25","startTime":1751986995639,"endTime":1751986995639,"millis":0.074512,"status":"failed"},"step":{"line":25,"prefix":"Then","index":5,"text":"status 200"},"stepLog":"15:03:15.639 src\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:25\nThen status 200\nstatus code was: 400, expected: 200, response time in milliseconds: 345, url: https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?key=e84a8261d3cd4786a8281927250707&q=90&dt=2023, response: \n{\"error\":{\"code\":1006,\"message\":\"No matching location found.\"}}\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:25\n"},{"result":{"nanos":0,"startTime":1751986995639,"endTime":1751986995639,"millis":0.0,"status":"skipped"},"step":{"line":26,"prefix":"And","index":6,"text":"match response.location == '#object'"}},{"result":{"nanos":0,"startTime":1751986995639,"endTime":1751986995639,"millis":0.0,"status":"skipped"},"step":{"line":27,"prefix":"And","index":7,"text":"match response.location.name == '#string'"}},{"result":{"nanos":0,"startTime":1751986995639,"endTime":1751986995639,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"And","index":8,"text":"match response.location.region == '#string'"}},{"result":{"nanos":0,"startTime":1751986995639,"endTime":1751986995639,"millis":0.0,"status":"skipped"},"step":{"line":29,"prefix":"And","index":9,"text":"match response.location.country == '#string'"}},{"result":{"nanos":0,"startTime":1751986995639,"endTime":1751986995639,"millis":0.0,"status":"skipped"},"step":{"line":30,"prefix":"And","index":10,"text":"match response.location.lat == '#number'"}},{"result":{"nanos":0,"startTime":1751986995639,"endTime":1751986995639,"millis":0.0,"status":"skipped"},"step":{"line":31,"prefix":"And","index":11,"text":"match response.location.lon == '#number'"}},{"result":{"nanos":0,"startTime":1751986995639,"endTime":1751986995639,"millis":0.0,"status":"skipped"},"step":{"line":32,"prefix":"And","index":12,"text":"match response.location.tz_id == '#string'"}},{"result":{"nanos":0,"startTime":1751986995639,"endTime":1751986995639,"millis":0.0,"status":"skipped"},"step":{"line":33,"prefix":"And","index":13,"text":"match response.location.localtime_epoch == '#number'"}},{"result":{"nanos":0,"startTime":1751986995639,"endTime":1751986995639,"millis":0.0,"status":"skipped"},"step":{"line":34,"prefix":"And","index":14,"text":"match response.location.localtime == '#string'"}},{"result":{"nanos":0,"startTime":1751986995639,"endTime":1751986995639,"millis":0.0,"status":"skipped"},"step":{"line":35,"prefix":"And","index":15,"text":"match response.astronomy == '#object'"}},{"result":{"nanos":0,"startTime":1751986995639,"endTime":1751986995639,"millis":0.0,"status":"skipped"},"step":{"line":36,"prefix":"And","index":16,"text":"match response.astronomy.astro == '#object'"}},{"result":{"nanos":0,"startTime":1751986995639,"endTime":1751986995639,"millis":0.0,"status":"skipped"},"step":{"line":37,"prefix":"And","index":17,"text":"match response.astronomy.astro.sunrise == '#string'"}},{"result":{"nanos":0,"startTime":1751986995639,"endTime":1751986995639,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":18,"text":"match response.astronomy.astro.sunset == '#string'"}},{"result":{"nanos":0,"startTime":1751986995639,"endTime":1751986995639,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":19,"text":"match response.astronomy.astro.moonrise == '#string'"}},{"result":{"nanos":0,"startTime":1751986995639,"endTime":1751986995639,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"And","index":20,"text":"match response.astronomy.astro.moonset == '#string'"}},{"result":{"nanos":0,"startTime":1751986995639,"endTime":1751986995639,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"And","index":21,"text":"match response.astronomy.astro.moon_phase == '#string'"}},{"result":{"nanos":0,"startTime":1751986995639,"endTime":1751986995639,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":22,"text":"match response.astronomy.astro.moon_illumination == '#string'"}}],"line":45,"description":"","durationMillis":346.755575,"failed":true,"error":"status code was: 400, expected: 200, response time in milliseconds: 345, url: https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?key=e84a8261d3cd4786a8281927250707&q=90&dt=2023, response: \n{\"error\":{\"code\":1006,\"message\":\"No matching location found.\"}}\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:25","executorName":"main","name":"Get astronomy data for valid locations","startTime":1751986995292,"refId":"[1.2:45]","endTime":1751986995639,"exampleData":{"location":"90","date":"2023"},"exampleIndex":1},{"sectionIndex":0,"stepResults":[{"result":{"nanos":166793,"startTime":1751986995641,"endTime":1751986995641,"millis":0.166793,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['API_HOST']"}},{"result":{"nanos":28230,"startTime":1751986995641,"endTime":1751986995641,"millis":0.02823,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":69892,"startTime":1751986995641,"endTime":1751986995641,"millis":0.069892,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":2,"text":"def authToken = karate.properties['key']"}},{"result":{"nanos":73812,"startTime":1751986995641,"endTime":1751986995641,"millis":0.073812,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":3,"text":"configure headers = { 'Accept': 'application\/json' }"}},{"result":{"nanos":12290,"startTime":1751986995641,"endTime":1751986995641,"millis":0.01229,"status":"passed"},"step":{"line":20,"prefix":"Given","index":0,"text":"path '\/v1\/astronomy.json'"}},{"result":{"nanos":65082,"startTime":1751986995641,"endTime":1751986995641,"millis":0.065082,"status":"passed"},"step":{"line":21,"prefix":"And","index":1,"text":"param key = authToken"}},{"result":{"nanos":270706,"startTime":1751986995641,"endTime":1751986995641,"millis":0.270706,"status":"passed"},"step":{"line":22,"prefix":"And","index":2,"text":"param q = '94040'"}},{"result":{"nanos":25741,"startTime":1751986995641,"endTime":1751986995641,"millis":0.025741,"status":"passed"},"step":{"line":23,"prefix":"And","index":3,"text":"param dt = '2023'"}},{"result":{"nanos":189549795,"startTime":1751986995641,"endTime":1751986995831,"millis":189.549795,"status":"passed"},"step":{"line":24,"prefix":"When","index":4,"text":"method GET"},"stepLog":"15:03:15.642 request:\n1 > GET https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?key=e84a8261d3cd4786a8281927250707&q=94040&dt=2023\n1 > Accept: application\/json\n1 > Host: api.weatherapi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.7)\n1 > Accept-Encoding: gzip,deflate\n\n\n15:03:15.831 response time in milliseconds: 188\n1 < 200\n1 < Date: Tue, 08 Jul 2025 15:03:15 GMT\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Vary: Accept-Encoding\n1 < Server: BunnyCDN-SG1-747\n1 < CDN-PullZone: 93447\n1 < CDN-Uid: 8fa3a04a-75d9-4707-8056-b7b33c8ac7fe\n1 < CDN-RequestCountryCode: IN\n1 < Age: 0\n1 < Cache-Control: public, max-age=180\n1 < Via: 1.1 varnish (Varnish\/7.1)\n1 < x-weatherapi-qpm-left: 4999923\n1 < x-varnish: 470129368\n1 < CDN-ProxyVer: 1.31\n1 < CDN-RequestPullSuccess: True\n1 < CDN-RequestPullCode: 200\n1 < CDN-CachedAt: 07\/08\/2025 15:02:39\n1 < CDN-EdgeStorageId: 944\n1 < CDN-RequestId: f6c9506159bcae2bedcdf86a26d933c7\n1 < CDN-Cache: HIT\n1 < CDN-Status: 200\n1 < CDN-RequestTime: 0\n{\"location\":{\"name\":\"Mountain View\",\"region\":\"California\",\"country\":\"USA\",\"lat\":37.3855018615723,\"lon\":-122.087997436523,\"tz_id\":\"America\/Los_Angeles\",\"localtime_epoch\":1751988037,\"localtime\":\"2025-07-08 08:20\"},\"astronomy\":{\"astro\":{\"sunrise\":\"05:55 AM\",\"sunset\":\"08:31 PM\",\"moonrise\":\"07:22 PM\",\"moonset\":\"03:33 AM\",\"moon_phase\":\"Waxing Gibbous\",\"moon_illumination\":93,\"is_moon_up\":0,\"is_sun_up\":1}}}\n\n"},{"result":{"nanos":12600,"startTime":1751986995831,"endTime":1751986995831,"millis":0.0126,"status":"passed"},"step":{"line":25,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":164654,"startTime":1751986995831,"endTime":1751986995831,"millis":0.164654,"status":"passed"},"step":{"line":26,"prefix":"And","index":6,"text":"match response.location == '#object'"}},{"result":{"nanos":67481,"startTime":1751986995831,"endTime":1751986995831,"millis":0.067481,"status":"passed"},"step":{"line":27,"prefix":"And","index":7,"text":"match response.location.name == '#string'"}},{"result":{"nanos":61871,"startTime":1751986995831,"endTime":1751986995831,"millis":0.061871,"status":"passed"},"step":{"line":28,"prefix":"And","index":8,"text":"match response.location.region == '#string'"}},{"result":{"nanos":54171,"startTime":1751986995831,"endTime":1751986995831,"millis":0.054171,"status":"passed"},"step":{"line":29,"prefix":"And","index":9,"text":"match response.location.country == '#string'"}},{"result":{"nanos":57221,"startTime":1751986995831,"endTime":1751986995831,"millis":0.057221,"status":"passed"},"step":{"line":30,"prefix":"And","index":10,"text":"match response.location.lat == '#number'"}},{"result":{"nanos":102533,"startTime":1751986995832,"endTime":1751986995832,"millis":0.102533,"status":"passed"},"step":{"line":31,"prefix":"And","index":11,"text":"match response.location.lon == '#number'"}},{"result":{"nanos":64661,"startTime":1751986995832,"endTime":1751986995832,"millis":0.064661,"status":"passed"},"step":{"line":32,"prefix":"And","index":12,"text":"match response.location.tz_id == '#string'"}},{"result":{"nanos":55601,"startTime":1751986995832,"endTime":1751986995832,"millis":0.055601,"status":"passed"},"step":{"line":33,"prefix":"And","index":13,"text":"match response.location.localtime_epoch == '#number'"}},{"result":{"nanos":54011,"startTime":1751986995832,"endTime":1751986995832,"millis":0.054011,"status":"passed"},"step":{"line":34,"prefix":"And","index":14,"text":"match response.location.localtime == '#string'"}},{"result":{"nanos":60181,"startTime":1751986995832,"endTime":1751986995832,"millis":0.060181,"status":"passed"},"step":{"line":35,"prefix":"And","index":15,"text":"match response.astronomy == '#object'"}},{"result":{"nanos":56662,"startTime":1751986995832,"endTime":1751986995832,"millis":0.056662,"status":"passed"},"step":{"line":36,"prefix":"And","index":16,"text":"match response.astronomy.astro == '#object'"}},{"result":{"nanos":55141,"startTime":1751986995832,"endTime":1751986995832,"millis":0.055141,"status":"passed"},"step":{"line":37,"prefix":"And","index":17,"text":"match response.astronomy.astro.sunrise == '#string'"}},{"result":{"nanos":54621,"startTime":1751986995832,"endTime":1751986995832,"millis":0.054621,"status":"passed"},"step":{"line":38,"prefix":"And","index":18,"text":"match response.astronomy.astro.sunset == '#string'"}},{"result":{"nanos":80951,"startTime":1751986995832,"endTime":1751986995832,"millis":0.080951,"status":"passed"},"step":{"line":39,"prefix":"And","index":19,"text":"match response.astronomy.astro.moonrise == '#string'"}},{"result":{"nanos":55441,"startTime":1751986995832,"endTime":1751986995832,"millis":0.055441,"status":"passed"},"step":{"line":40,"prefix":"And","index":20,"text":"match response.astronomy.astro.moonset == '#string'"}},{"result":{"nanos":82002,"startTime":1751986995832,"endTime":1751986995832,"millis":0.082002,"status":"passed"},"step":{"line":41,"prefix":"And","index":21,"text":"match response.astronomy.astro.moon_phase == '#string'"}},{"result":{"nanos":116303,"errorMessage":"match failed: EQUALS\n  $ | not a string (NUMBER:STRING)\n  93\n  '#string'\n\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:42","startTime":1751986995832,"endTime":1751986995832,"millis":0.116303,"status":"failed"},"step":{"line":42,"prefix":"And","index":22,"text":"match response.astronomy.astro.moon_illumination == '#string'"},"stepLog":"15:03:15.833 src\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:42\nAnd match response.astronomy.astro.moon_illumination == '#string'\nmatch failed: EQUALS\n  $ | not a string (NUMBER:STRING)\n  93\n  '#string'\n\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:42\n"}],"line":45,"description":"","durationMillis":191.518447,"failed":true,"error":"match failed: EQUALS\n  $ | not a string (NUMBER:STRING)\n  93\n  '#string'\n\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:42","executorName":"main","name":"Get astronomy data for valid locations","startTime":1751986995641,"refId":"[1.3:45]","endTime":1751986995833,"exampleData":{"location":"94040","date":"2023"},"exampleIndex":2},{"sectionIndex":0,"stepResults":[{"result":{"nanos":145014,"startTime":1751986995834,"endTime":1751986995834,"millis":0.145014,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['API_HOST']"}},{"result":{"nanos":23760,"startTime":1751986995834,"endTime":1751986995834,"millis":0.02376,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":88192,"startTime":1751986995834,"endTime":1751986995834,"millis":0.088192,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":2,"text":"def authToken = karate.properties['key']"}},{"result":{"nanos":63711,"startTime":1751986995835,"endTime":1751986995835,"millis":0.063711,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":3,"text":"configure headers = { 'Accept': 'application\/json' }"}},{"result":{"nanos":12790,"startTime":1751986995835,"endTime":1751986995835,"millis":0.01279,"status":"passed"},"step":{"line":20,"prefix":"Given","index":0,"text":"path '\/v1\/astronomy.json'"}},{"result":{"nanos":43251,"startTime":1751986995835,"endTime":1751986995835,"millis":0.043251,"status":"passed"},"step":{"line":21,"prefix":"And","index":1,"text":"param key = authToken"}},{"result":{"nanos":28060,"startTime":1751986995835,"endTime":1751986995835,"millis":0.02806,"status":"passed"},"step":{"line":22,"prefix":"And","index":2,"text":"param q = '8'"}},{"result":{"nanos":14651,"startTime":1751986995835,"endTime":1751986995835,"millis":0.014651,"status":"passed"},"step":{"line":23,"prefix":"And","index":3,"text":"param dt = '2023'"}},{"result":{"nanos":352272625,"startTime":1751986995835,"endTime":1751986996187,"millis":352.272625,"status":"passed"},"step":{"line":24,"prefix":"When","index":4,"text":"method GET"},"stepLog":"15:03:15.835 request:\n1 > GET https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?key=e84a8261d3cd4786a8281927250707&q=8&dt=2023\n1 > Accept: application\/json\n1 > Host: api.weatherapi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.7)\n1 > Accept-Encoding: gzip,deflate\n\n\n15:03:16.187 response time in milliseconds: 351\n1 < 400\n1 < Date: Tue, 08 Jul 2025 15:03:16 GMT\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Vary: Accept-Encoding\n1 < Server: BunnyCDN-SG1-747\n1 < CDN-PullZone: 93447\n1 < CDN-Uid: 8fa3a04a-75d9-4707-8056-b7b33c8ac7fe\n1 < CDN-RequestCountryCode: IN\n1 < Age: 0\n1 < Cache-Control: public, max-age=5\n1 < Via: 1.1 varnish (Varnish\/7.1)\n1 < x-weatherapi-qpm-left: 4999923\n1 < x-varnish: 473543432\n1 < CDN-ProxyVer: 1.31\n1 < CDN-RequestPullSuccess: True\n1 < CDN-RequestPullCode: 400\n1 < CDN-CachedAt: 07\/08\/2025 15:03:16\n1 < CDN-EdgeStorageId: 980\n1 < CDN-RequestId: 92d2f1ad1188a1bb877823e3ed2f7c95\n1 < CDN-Cache: EXPIRED\n1 < CDN-Status: 400\n1 < CDN-RequestTime: 0\n{\"error\":{\"code\":1006,\"message\":\"No matching location found.\"}}\n\n"},{"result":{"nanos":75392,"errorMessage":"status code was: 400, expected: 200, response time in milliseconds: 351, url: https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?key=e84a8261d3cd4786a8281927250707&q=8&dt=2023, response: \n{\"error\":{\"code\":1006,\"message\":\"No matching location found.\"}}\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:25","startTime":1751986996187,"endTime":1751986996187,"millis":0.075392,"status":"failed"},"step":{"line":25,"prefix":"Then","index":5,"text":"status 200"},"stepLog":"15:03:16.187 src\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:25\nThen status 200\nstatus code was: 400, expected: 200, response time in milliseconds: 351, url: https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?key=e84a8261d3cd4786a8281927250707&q=8&dt=2023, response: \n{\"error\":{\"code\":1006,\"message\":\"No matching location found.\"}}\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:25\n"},{"result":{"nanos":0,"startTime":1751986996187,"endTime":1751986996187,"millis":0.0,"status":"skipped"},"step":{"line":26,"prefix":"And","index":6,"text":"match response.location == '#object'"}},{"result":{"nanos":0,"startTime":1751986996187,"endTime":1751986996187,"millis":0.0,"status":"skipped"},"step":{"line":27,"prefix":"And","index":7,"text":"match response.location.name == '#string'"}},{"result":{"nanos":0,"startTime":1751986996187,"endTime":1751986996187,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"And","index":8,"text":"match response.location.region == '#string'"}},{"result":{"nanos":0,"startTime":1751986996187,"endTime":1751986996187,"millis":0.0,"status":"skipped"},"step":{"line":29,"prefix":"And","index":9,"text":"match response.location.country == '#string'"}},{"result":{"nanos":0,"startTime":1751986996187,"endTime":1751986996187,"millis":0.0,"status":"skipped"},"step":{"line":30,"prefix":"And","index":10,"text":"match response.location.lat == '#number'"}},{"result":{"nanos":0,"startTime":1751986996187,"endTime":1751986996187,"millis":0.0,"status":"skipped"},"step":{"line":31,"prefix":"And","index":11,"text":"match response.location.lon == '#number'"}},{"result":{"nanos":0,"startTime":1751986996187,"endTime":1751986996187,"millis":0.0,"status":"skipped"},"step":{"line":32,"prefix":"And","index":12,"text":"match response.location.tz_id == '#string'"}},{"result":{"nanos":0,"startTime":1751986996187,"endTime":1751986996187,"millis":0.0,"status":"skipped"},"step":{"line":33,"prefix":"And","index":13,"text":"match response.location.localtime_epoch == '#number'"}},{"result":{"nanos":0,"startTime":1751986996187,"endTime":1751986996187,"millis":0.0,"status":"skipped"},"step":{"line":34,"prefix":"And","index":14,"text":"match response.location.localtime == '#string'"}},{"result":{"nanos":0,"startTime":1751986996187,"endTime":1751986996187,"millis":0.0,"status":"skipped"},"step":{"line":35,"prefix":"And","index":15,"text":"match response.astronomy == '#object'"}},{"result":{"nanos":0,"startTime":1751986996187,"endTime":1751986996187,"millis":0.0,"status":"skipped"},"step":{"line":36,"prefix":"And","index":16,"text":"match response.astronomy.astro == '#object'"}},{"result":{"nanos":0,"startTime":1751986996187,"endTime":1751986996187,"millis":0.0,"status":"skipped"},"step":{"line":37,"prefix":"And","index":17,"text":"match response.astronomy.astro.sunrise == '#string'"}},{"result":{"nanos":0,"startTime":1751986996187,"endTime":1751986996187,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":18,"text":"match response.astronomy.astro.sunset == '#string'"}},{"result":{"nanos":0,"startTime":1751986996187,"endTime":1751986996187,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":19,"text":"match response.astronomy.astro.moonrise == '#string'"}},{"result":{"nanos":0,"startTime":1751986996187,"endTime":1751986996187,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"And","index":20,"text":"match response.astronomy.astro.moonset == '#string'"}},{"result":{"nanos":0,"startTime":1751986996187,"endTime":1751986996187,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"And","index":21,"text":"match response.astronomy.astro.moon_phase == '#string'"}},{"result":{"nanos":0,"startTime":1751986996187,"endTime":1751986996187,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":22,"text":"match response.astronomy.astro.moon_illumination == '#string'"}}],"line":45,"description":"","durationMillis":352.767446,"failed":true,"error":"status code was: 400, expected: 200, response time in milliseconds: 351, url: https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?key=e84a8261d3cd4786a8281927250707&q=8&dt=2023, response: \n{\"error\":{\"code\":1006,\"message\":\"No matching location found.\"}}\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:25","executorName":"main","name":"Get astronomy data for valid locations","startTime":1751986995834,"refId":"[1.4:45]","endTime":1751986996187,"exampleData":{"location":"8","date":"2023"},"exampleIndex":3},{"sectionIndex":1,"stepResults":[{"result":{"nanos":199784,"startTime":1751986996189,"endTime":1751986996189,"millis":0.199784,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['API_HOST']"}},{"result":{"nanos":64911,"startTime":1751986996189,"endTime":1751986996189,"millis":0.064911,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":93252,"startTime":1751986996189,"endTime":1751986996189,"millis":0.093252,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":2,"text":"def authToken = karate.properties['key']"}},{"result":{"nanos":96822,"startTime":1751986996189,"endTime":1751986996189,"millis":0.096822,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":3,"text":"configure headers = { 'Accept': 'application\/json' }"}},{"result":{"nanos":12770,"startTime":1751986996190,"endTime":1751986996190,"millis":0.01277,"status":"passed"},"step":{"line":48,"prefix":"Given","index":0,"text":"path '\/v1\/astronomy.json'"}},{"result":{"nanos":45421,"startTime":1751986996190,"endTime":1751986996190,"millis":0.045421,"status":"passed"},"step":{"line":49,"prefix":"And","index":1,"text":"param key = authToken"}},{"result":{"nanos":288636,"startTime":1751986996190,"endTime":1751986996190,"millis":0.288636,"status":"passed"},"step":{"line":50,"prefix":"And","index":2,"text":"param q = ''"}},{"result":{"nanos":174124,"startTime":1751986996190,"endTime":1751986996190,"millis":0.174124,"status":"passed"},"step":{"line":51,"prefix":"And","index":3,"text":"param dt = '2023-12-01'"}},{"result":{"nanos":346638903,"startTime":1751986996190,"endTime":1751986996537,"millis":346.638903,"status":"passed"},"step":{"line":52,"prefix":"When","index":4,"text":"method GET"},"stepLog":"15:03:16.191 request:\n1 > GET https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?key=e84a8261d3cd4786a8281927250707&q=&dt=2023-12-01\n1 > Accept: application\/json\n1 > Host: api.weatherapi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.7)\n1 > Accept-Encoding: gzip,deflate\n\n\n15:03:16.536 response time in milliseconds: 345\n1 < 400\n1 < Date: Tue, 08 Jul 2025 15:03:16 GMT\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Vary: Accept-Encoding\n1 < Server: BunnyCDN-SG1-747\n1 < CDN-PullZone: 93447\n1 < CDN-Uid: 8fa3a04a-75d9-4707-8056-b7b33c8ac7fe\n1 < CDN-RequestCountryCode: IN\n1 < Age: 0\n1 < Cache-Control: public, max-age=5\n1 < Via: 1.1 varnish (Varnish\/7.1)\n1 < x-weatherapi-qpm-left: 4999923\n1 < x-varnish: 453879089\n1 < CDN-ProxyVer: 1.31\n1 < CDN-RequestPullSuccess: True\n1 < CDN-RequestPullCode: 400\n1 < CDN-CachedAt: 07\/08\/2025 15:03:16\n1 < CDN-EdgeStorageId: 749\n1 < CDN-RequestId: cb1119271f7e4b33e24d6eefe90c822d\n1 < CDN-Cache: EXPIRED\n1 < CDN-Status: 400\n1 < CDN-RequestTime: 0\n{\"error\":{\"code\":1003,\"message\":\"Parameter q is missing.\"}}\n\n"},{"result":{"nanos":12990,"startTime":1751986996537,"endTime":1751986996537,"millis":0.01299,"status":"passed"},"step":{"line":53,"prefix":"Then","index":5,"text":"status 400"}},{"result":{"nanos":240705,"errorMessage":"match failed: EQUALS\n\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:54","startTime":1751986996537,"endTime":1751986996537,"millis":0.240705,"status":"failed"},"step":{"line":54,"prefix":"And","index":6,"text":"match response.code == '#number'"},"stepLog":"15:03:16.537 src\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:54\nAnd match response.code == '#number'\nmatch failed: EQUALS\n\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:54\n"},{"result":{"nanos":0,"startTime":1751986996537,"endTime":1751986996537,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":7,"text":"match response.message == '#string'"}}],"line":59,"description":"","durationMillis":347.868318,"failed":true,"error":"match failed: EQUALS\n\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:54","executorName":"main","name":"Verify error responses for invalid parameters","startTime":1751986996189,"refId":"[2.1:59]","endTime":1751986996537,"exampleData":{"location":null,"date":"2023-12-01","status":"400"},"exampleIndex":0},{"sectionIndex":1,"stepResults":[{"result":{"nanos":180963,"startTime":1751986996539,"endTime":1751986996539,"millis":0.180963,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['API_HOST']"}},{"result":{"nanos":30780,"startTime":1751986996539,"endTime":1751986996539,"millis":0.03078,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":73801,"startTime":1751986996539,"endTime":1751986996539,"millis":0.073801,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":2,"text":"def authToken = karate.properties['key']"}},{"result":{"nanos":65642,"startTime":1751986996539,"endTime":1751986996539,"millis":0.065642,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":3,"text":"configure headers = { 'Accept': 'application\/json' }"}},{"result":{"nanos":12010,"startTime":1751986996539,"endTime":1751986996539,"millis":0.01201,"status":"passed"},"step":{"line":48,"prefix":"Given","index":0,"text":"path '\/v1\/astronomy.json'"}},{"result":{"nanos":73772,"startTime":1751986996539,"endTime":1751986996539,"millis":0.073772,"status":"passed"},"step":{"line":49,"prefix":"And","index":1,"text":"param key = authToken"}},{"result":{"nanos":38251,"startTime":1751986996539,"endTime":1751986996539,"millis":0.038251,"status":"passed"},"step":{"line":50,"prefix":"And","index":2,"text":"param q = 'London'"}},{"result":{"nanos":252846,"startTime":1751986996540,"endTime":1751986996540,"millis":0.252846,"status":"passed"},"step":{"line":51,"prefix":"And","index":3,"text":"param dt = '2014-12-31'"}},{"result":{"nanos":187440970,"startTime":1751986996540,"endTime":1751986996727,"millis":187.44097,"status":"passed"},"step":{"line":52,"prefix":"When","index":4,"text":"method GET"},"stepLog":"15:03:16.540 request:\n1 > GET https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?key=e84a8261d3cd4786a8281927250707&q=London&dt=2014-12-31\n1 > Accept: application\/json\n1 > Host: api.weatherapi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.7)\n1 > Accept-Encoding: gzip,deflate\n\n\n15:03:16.727 response time in milliseconds: 187\n1 < 200\n1 < Date: Tue, 08 Jul 2025 15:03:16 GMT\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Vary: Accept-Encoding\n1 < Server: BunnyCDN-SG1-747\n1 < CDN-PullZone: 93447\n1 < CDN-Uid: 8fa3a04a-75d9-4707-8056-b7b33c8ac7fe\n1 < CDN-RequestCountryCode: IN\n1 < Age: 0\n1 < Cache-Control: public, max-age=180\n1 < Via: 1.1 varnish (Varnish\/7.1)\n1 < x-weatherapi-qpm-left: 4999923\n1 < x-varnish: 398518467\n1 < CDN-ProxyVer: 1.31\n1 < CDN-RequestPullSuccess: True\n1 < CDN-RequestPullCode: 200\n1 < CDN-CachedAt: 07\/08\/2025 15:02:40\n1 < CDN-EdgeStorageId: 714\n1 < CDN-RequestId: c9b67a1bc3af7305ec4a029c65f85838\n1 < CDN-Cache: HIT\n1 < CDN-Status: 200\n1 < CDN-RequestTime: 0\n{\"location\":{\"name\":\"London\",\"region\":\"City of London, Greater London\",\"country\":\"United Kingdom\",\"lat\":51.5171,\"lon\":-0.1062,\"tz_id\":\"Europe\/London\",\"localtime_epoch\":1751987057,\"localtime\":\"2025-07-08 16:04\"},\"astronomy\":{\"astro\":{\"sunrise\":\"08:06 AM\",\"sunset\":\"04:01 PM\",\"moonrise\":\"01:01 PM\",\"moonset\":\"02:56 AM\",\"moon_phase\":\"Waxing Gibbous\",\"moon_illumination\":73,\"is_moon_up\":1,\"is_sun_up\":0}}}\n\n"},{"result":{"nanos":79241,"errorMessage":"status code was: 200, expected: 400, response time in milliseconds: 187, url: https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?key=e84a8261d3cd4786a8281927250707&q=London&dt=2014-12-31, response: \n{\"location\":{\"name\":\"London\",\"region\":\"City of London, Greater London\",\"country\":\"United Kingdom\",\"lat\":51.5171,\"lon\":-0.1062,\"tz_id\":\"Europe\/London\",\"localtime_epoch\":1751987057,\"localtime\":\"2025-07-08 16:04\"},\"astronomy\":{\"astro\":{\"sunrise\":\"08:06 AM\",\"sunset\":\"04:01 PM\",\"moonrise\":\"01:01 PM\",\"moonset\":\"02:56 AM\",\"moon_phase\":\"Waxing Gibbous\",\"moon_illumination\":73,\"is_moon_up\":1,\"is_sun_up\":0}}}\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:53","startTime":1751986996727,"endTime":1751986996727,"millis":0.079241,"status":"failed"},"step":{"line":53,"prefix":"Then","index":5,"text":"status 400"},"stepLog":"15:03:16.727 src\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:53\nThen status 400\nstatus code was: 200, expected: 400, response time in milliseconds: 187, url: https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?key=e84a8261d3cd4786a8281927250707&q=London&dt=2014-12-31, response: \n{\"location\":{\"name\":\"London\",\"region\":\"City of London, Greater London\",\"country\":\"United Kingdom\",\"lat\":51.5171,\"lon\":-0.1062,\"tz_id\":\"Europe\/London\",\"localtime_epoch\":1751987057,\"localtime\":\"2025-07-08 16:04\"},\"astronomy\":{\"astro\":{\"sunrise\":\"08:06 AM\",\"sunset\":\"04:01 PM\",\"moonrise\":\"01:01 PM\",\"moonset\":\"02:56 AM\",\"moon_phase\":\"Waxing Gibbous\",\"moon_illumination\":73,\"is_moon_up\":1,\"is_sun_up\":0}}}\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:53\n"},{"result":{"nanos":0,"startTime":1751986996727,"endTime":1751986996727,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":6,"text":"match response.code == '#number'"}},{"result":{"nanos":0,"startTime":1751986996727,"endTime":1751986996727,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":7,"text":"match response.message == '#string'"}}],"line":60,"description":"","durationMillis":188.248276,"failed":true,"error":"status code was: 200, expected: 400, response time in milliseconds: 187, url: https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?key=e84a8261d3cd4786a8281927250707&q=London&dt=2014-12-31, response: \n{\"location\":{\"name\":\"London\",\"region\":\"City of London, Greater London\",\"country\":\"United Kingdom\",\"lat\":51.5171,\"lon\":-0.1062,\"tz_id\":\"Europe\/London\",\"localtime_epoch\":1751987057,\"localtime\":\"2025-07-08 16:04\"},\"astronomy\":{\"astro\":{\"sunrise\":\"08:06 AM\",\"sunset\":\"04:01 PM\",\"moonrise\":\"01:01 PM\",\"moonset\":\"02:56 AM\",\"moon_phase\":\"Waxing Gibbous\",\"moon_illumination\":73,\"is_moon_up\":1,\"is_sun_up\":0}}}\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:53","executorName":"main","name":"Verify error responses for invalid parameters","startTime":1751986996539,"refId":"[2.2:60]","endTime":1751986996727,"exampleData":{"location":"London","date":"2014-12-31","status":"400"},"exampleIndex":1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":213395,"startTime":1751986996729,"endTime":1751986996729,"millis":0.213395,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['API_HOST']"}},{"result":{"nanos":27831,"startTime":1751986996729,"endTime":1751986996729,"millis":0.027831,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":68591,"startTime":1751986996729,"endTime":1751986996729,"millis":0.068591,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":2,"text":"def authToken = karate.properties['key']"}},{"result":{"nanos":65641,"startTime":1751986996729,"endTime":1751986996729,"millis":0.065641,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":3,"text":"configure headers = { 'Accept': 'application\/json' }"}},{"result":{"nanos":12071,"startTime":1751986996729,"endTime":1751986996729,"millis":0.012071,"status":"passed"},"step":{"line":48,"prefix":"Given","index":0,"text":"path '\/v1\/astronomy.json'"}},{"result":{"nanos":34860,"startTime":1751986996729,"endTime":1751986996729,"millis":0.03486,"status":"passed"},"step":{"line":49,"prefix":"And","index":1,"text":"param key = authToken"}},{"result":{"nanos":283216,"startTime":1751986996729,"endTime":1751986996729,"millis":0.283216,"status":"passed"},"step":{"line":50,"prefix":"And","index":2,"text":"param q = 'xyz123'"}},{"result":{"nanos":23840,"startTime":1751986996730,"endTime":1751986996730,"millis":0.02384,"status":"passed"},"step":{"line":51,"prefix":"And","index":3,"text":"param dt = '2023-12-01'"}},{"result":{"nanos":377793352,"startTime":1751986996730,"endTime":1751986997108,"millis":377.793352,"status":"passed"},"step":{"line":52,"prefix":"When","index":4,"text":"method GET"},"stepLog":"15:03:16.730 request:\n1 > GET https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?key=e84a8261d3cd4786a8281927250707&q=xyz123&dt=2023-12-01\n1 > Accept: application\/json\n1 > Host: api.weatherapi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.7)\n1 > Accept-Encoding: gzip,deflate\n\n\n15:03:17.107 response time in milliseconds: 377\n1 < 400\n1 < Date: Tue, 08 Jul 2025 15:03:17 GMT\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Vary: Accept-Encoding\n1 < Server: BunnyCDN-SG1-747\n1 < CDN-PullZone: 93447\n1 < CDN-Uid: 8fa3a04a-75d9-4707-8056-b7b33c8ac7fe\n1 < CDN-RequestCountryCode: IN\n1 < Age: 35\n1 < Cache-Control: public, max-age=5\n1 < Via: 1.1 varnish (Varnish\/7.1)\n1 < x-weatherapi-qpm-left: 4999923\n1 < x-varnish: 469710390 416152305\n1 < CDN-ProxyVer: 1.31\n1 < CDN-RequestPullSuccess: True\n1 < CDN-RequestPullCode: 400\n1 < CDN-CachedAt: 07\/08\/2025 15:03:17\n1 < CDN-EdgeStorageId: 1173\n1 < CDN-RequestId: 2a9692f2d5fa4127518c260de6c3d5f5\n1 < CDN-Cache: EXPIRED\n1 < CDN-Status: 400\n1 < CDN-RequestTime: 0\n{\"error\":{\"code\":1006,\"message\":\"No matching location found.\"}}\n\n"},{"result":{"nanos":13180,"startTime":1751986997108,"endTime":1751986997108,"millis":0.01318,"status":"passed"},"step":{"line":53,"prefix":"Then","index":5,"text":"status 400"}},{"result":{"nanos":219435,"errorMessage":"match failed: EQUALS\n\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:54","startTime":1751986997108,"endTime":1751986997108,"millis":0.219435,"status":"failed"},"step":{"line":54,"prefix":"And","index":6,"text":"match response.code == '#number'"},"stepLog":"15:03:17.108 src\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:54\nAnd match response.code == '#number'\nmatch failed: EQUALS\n\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:54\n"},{"result":{"nanos":0,"startTime":1751986997108,"endTime":1751986997108,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":7,"text":"match response.message == '#string'"}}],"line":61,"description":"","durationMillis":378.755412,"failed":true,"error":"match failed: EQUALS\n\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:54","executorName":"main","name":"Verify error responses for invalid parameters","startTime":1751986996729,"refId":"[2.3:61]","endTime":1751986997108,"exampleData":{"location":"xyz123","date":"2023-12-01","status":"400"},"exampleIndex":2},{"sectionIndex":2,"stepResults":[{"result":{"nanos":154083,"startTime":1751986997110,"endTime":1751986997110,"millis":0.154083,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['API_HOST']"}},{"result":{"nanos":24270,"startTime":1751986997110,"endTime":1751986997110,"millis":0.02427,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":78792,"startTime":1751986997110,"endTime":1751986997110,"millis":0.078792,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":2,"text":"def authToken = karate.properties['key']"}},{"result":{"nanos":63922,"startTime":1751986997110,"endTime":1751986997110,"millis":0.063922,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":3,"text":"configure headers = { 'Accept': 'application\/json' }"}},{"result":{"nanos":12630,"startTime":1751986997110,"endTime":1751986997110,"millis":0.01263,"status":"passed"},"step":{"line":64,"prefix":"Given","index":0,"text":"path '\/v1\/astronomy.json'"}},{"result":{"nanos":31541,"startTime":1751986997110,"endTime":1751986997110,"millis":0.031541,"status":"passed"},"step":{"line":65,"prefix":"And","index":1,"text":"param q = 'London'"}},{"result":{"nanos":17691,"startTime":1751986997110,"endTime":1751986997110,"millis":0.017691,"status":"passed"},"step":{"line":66,"prefix":"And","index":2,"text":"param dt = '2023-12-01'"}},{"result":{"nanos":357624193,"startTime":1751986997110,"endTime":1751986997468,"millis":357.624193,"status":"passed"},"step":{"line":67,"prefix":"When","index":3,"text":"method GET"},"stepLog":"15:03:17.111 request:\n1 > GET https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?q=London&dt=2023-12-01\n1 > Accept: application\/json\n1 > Host: api.weatherapi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.7)\n1 > Accept-Encoding: gzip,deflate\n\n\n15:03:17.467 response time in milliseconds: 356\n1 < 401\n1 < Date: Tue, 08 Jul 2025 15:03:17 GMT\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Vary: Accept-Encoding\n1 < Server: BunnyCDN-SG1-747\n1 < CDN-PullZone: 93447\n1 < CDN-Uid: 8fa3a04a-75d9-4707-8056-b7b33c8ac7fe\n1 < CDN-RequestCountryCode: IN\n1 < Age: 0\n1 < Cache-Control: public, max-age=5\n1 < Via: 1.1 varnish (Varnish\/7.1)\n1 < x-varnish: 486348632\n1 < CDN-ProxyVer: 1.31\n1 < CDN-RequestPullSuccess: True\n1 < CDN-RequestPullCode: 401\n1 < CDN-CachedAt: 07\/08\/2025 15:03:17\n1 < CDN-EdgeStorageId: 982\n1 < CDN-RequestId: 9d1c33339742726ed127a5ada1d2d096\n1 < CDN-Cache: EXPIRED\n1 < CDN-Status: 401\n1 < CDN-RequestTime: 0\n{\"error\":{\"code\":1002,\"message\":\"API key is invalid or not provided.\"}}\n\n"},{"result":{"nanos":12570,"startTime":1751986997468,"endTime":1751986997468,"millis":0.01257,"status":"passed"},"step":{"line":68,"prefix":"Then","index":4,"text":"status 401"}},{"result":{"nanos":203754,"errorMessage":"match failed: EQUALS\n\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:69","startTime":1751986997468,"endTime":1751986997468,"millis":0.203754,"status":"failed"},"step":{"line":69,"prefix":"And","index":5,"text":"match response.code == '#number'"},"stepLog":"15:03:17.468 src\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:69\nAnd match response.code == '#number'\nmatch failed: EQUALS\n\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:69\n"},{"result":{"nanos":0,"startTime":1751986997468,"endTime":1751986997468,"millis":0.0,"status":"skipped"},"step":{"line":70,"prefix":"And","index":6,"text":"match response.message == '#string'"}}],"line":63,"description":"","durationMillis":358.223446,"failed":true,"error":"match failed: EQUALS\n\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:69","executorName":"main","name":"Verify unauthorized access","startTime":1751986997110,"refId":"[3:63]","endTime":1751986997468,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":183254,"startTime":1751986997470,"endTime":1751986997470,"millis":0.183254,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['API_HOST']"}},{"result":{"nanos":22000,"startTime":1751986997470,"endTime":1751986997470,"millis":0.022,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":68171,"startTime":1751986997470,"endTime":1751986997470,"millis":0.068171,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":2,"text":"def authToken = karate.properties['key']"}},{"result":{"nanos":55432,"startTime":1751986997470,"endTime":1751986997470,"millis":0.055432,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":3,"text":"configure headers = { 'Accept': 'application\/json' }"}},{"result":{"nanos":11330,"startTime":1751986997470,"endTime":1751986997470,"millis":0.01133,"status":"passed"},"step":{"line":73,"prefix":"Given","index":0,"text":"path '\/v1\/astronomy.json'"}},{"result":{"nanos":30301,"startTime":1751986997470,"endTime":1751986997470,"millis":0.030301,"status":"passed"},"step":{"line":74,"prefix":"And","index":1,"text":"param key = 'invalid_key'"}},{"result":{"nanos":17501,"startTime":1751986997470,"endTime":1751986997470,"millis":0.017501,"status":"passed"},"step":{"line":75,"prefix":"And","index":2,"text":"param q = 'London'"}},{"result":{"nanos":16040,"startTime":1751986997470,"endTime":1751986997470,"millis":0.01604,"status":"passed"},"step":{"line":76,"prefix":"And","index":3,"text":"param dt = '2023-12-01'"}},{"result":{"nanos":346016890,"startTime":1751986997470,"endTime":1751986997816,"millis":346.01689,"status":"passed"},"step":{"line":77,"prefix":"When","index":4,"text":"method GET"},"stepLog":"15:03:17.471 request:\n1 > GET https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?key=invalid_key&q=London&dt=2023-12-01\n1 > Accept: application\/json\n1 > Host: api.weatherapi.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.7)\n1 > Accept-Encoding: gzip,deflate\n\n\n15:03:17.816 response time in milliseconds: 345\n1 < 401\n1 < Date: Tue, 08 Jul 2025 15:03:17 GMT\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Vary: Accept-Encoding\n1 < Server: BunnyCDN-SG1-747\n1 < CDN-PullZone: 93447\n1 < CDN-Uid: 8fa3a04a-75d9-4707-8056-b7b33c8ac7fe\n1 < CDN-RequestCountryCode: IN\n1 < Age: 0\n1 < Cache-Control: public, max-age=5\n1 < Via: 1.1 varnish (Varnish\/7.1)\n1 < x-varnish: 377283078\n1 < CDN-ProxyVer: 1.31\n1 < CDN-RequestPullSuccess: True\n1 < CDN-RequestPullCode: 401\n1 < CDN-CachedAt: 07\/08\/2025 15:03:17\n1 < CDN-EdgeStorageId: 1179\n1 < CDN-RequestId: 390b1c2df443fbe92685c48a26643f05\n1 < CDN-Cache: EXPIRED\n1 < CDN-Status: 401\n1 < CDN-RequestTime: 0\n{\"error\":{\"code\":2006,\"message\":\"API key is invalid.\"}}\n\n"},{"result":{"nanos":73301,"errorMessage":"status code was: 401, expected: 403, response time in milliseconds: 345, url: https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?key=invalid_key&q=London&dt=2023-12-01, response: \n{\"error\":{\"code\":2006,\"message\":\"API key is invalid.\"}}\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:78","startTime":1751986997816,"endTime":1751986997816,"millis":0.073301,"status":"failed"},"step":{"line":78,"prefix":"Then","index":5,"text":"status 403"},"stepLog":"15:03:17.816 src\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:78\nThen status 403\nstatus code was: 401, expected: 403, response time in milliseconds: 345, url: https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?key=invalid_key&q=London&dt=2023-12-01, response: \n{\"error\":{\"code\":2006,\"message\":\"API key is invalid.\"}}\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:78\n"},{"result":{"nanos":0,"startTime":1751986997816,"endTime":1751986997816,"millis":0.0,"status":"skipped"},"step":{"line":79,"prefix":"And","index":6,"text":"match response.code == '#number'"}},{"result":{"nanos":0,"startTime":1751986997816,"endTime":1751986997816,"millis":0.0,"status":"skipped"},"step":{"line":80,"prefix":"And","index":7,"text":"match response.message == '#string'"}}],"line":72,"description":"","durationMillis":346.49422,"failed":true,"error":"status code was: 401, expected: 403, response time in milliseconds: 345, url: https:\/\/api.weatherapi.com\/v1\/v1\/astronomy.json?key=invalid_key&q=London&dt=2023-12-01, response: \n{\"error\":{\"code\":2006,\"message\":\"API key is invalid.\"}}\nsrc\/test\/java\/org\/springframework\/api_tests\/Weather\/astronomy.json_get.feature:78","executorName":"main","name":"Verify forbidden access","startTime":1751986997469,"refId":"[4:72]","endTime":1751986997816,"exampleIndex":-1}],"callDepth":0,"name":"Astronomy API Tests","description":"","resultDate":"2025-07-08 03:03:17 PM","durationMillis":2708.094039,"passedCount":0}