# ********RoostGPT********

# Test generated by RoostGPT for test api-testing-xcally using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Feature file generated for /user/login_get for http method type GET 
# RoostTestHash=fbb4064353
# 
# 

# ********RoostGPT********
Feature: User Login API
  Logs user into the system using the "/user/login" endpoint.

  Background:
    * def urlBase = karate.properties['API_HOST']
    * url urlBase
    * header Accept = 'application/json'

  Scenario Outline: Validate successful user login
    Given path 'user/login'
    And param username = '<username>'
    And param password = '<password>'
    When method GET
    Then status 200
    And match response == '#string'
    And match responseHeaders.X-Rate-Limit == '#number'
    And match responseHeaders.X-Expires-After == '#string'
    And match responseHeaders.X-Expires-After == #regex '\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z'

    Examples:
      | read('user_login_get.csv') |

  Scenario Outline: Validate invalid username/password
    Given path 'user/login'
    And param username = '<username>'
    And param password = '<password>'
    When method GET
    Then status 400

    Examples:
      | username    | password      |
      | ['unknown'] | ['invalid']   |
      | ['test']    | ['wrongPass'] |

  Scenario: Validate missing parameters
    Given path 'user/login'
    When method GET
    Then status 400

  Scenario Outline: Validate unexpected error
    Given path 'user/login'
    And param username = '<username>'
    And param password = '<password>'
    When method GET
    Then status != 200
    And match response == '#string'

    Examples:
      | username | password |
      | ['']     | ['']     |
      | ['null'] | ['null'] |
