# ********RoostGPT********

# Test generated by RoostGPT for test adp_api_test_karate_sonnet4 using AI Type Claude AI and AI Model claude-sonnet-4-20250514
# 
# Feature file generated for /events/hr/v1/worker.rehire/meta_get for http method type GET 
# RoostTestHash=8c8f5eb849
# 
# 

# ********RoostGPT********
Feature: Rehire Worker Metadata API Tests

Background:
  * def urlBase = karate.properties['API_HOST']
  * url urlBase

Scenario: Get rehire worker metadata without roleCode header
  Given path '/events/hr/v1/worker.rehire/meta'
  And header Accept = 'application/json'
  When method GET
  Then status 200
  And match response == '#object'
  And match response.meta == '#object'
  And match response.meta['/serviceCategoryCode/codeValue'] == '##string'
  And match response.meta['/eventNameCode/codeValue'] == '##string'
  And match response.meta['/data/eventContext'] == '#object'
  And match response.meta['/data/transforms'] == '#array'
  And match each response.meta['/data/transforms'][*] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/businessCommunication'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/businessCommunication'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/businessCommunication/emails'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/businessCommunication/emails'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/businessCommunication/emails/emailUri'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/businessCommunication/emails/emailUri'].optional == '##boolean'
  And match each response.meta['/data/transforms'][*]['/worker/businessCommunication/emails/emailUri'].shortLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/businessCommunication/emails/emailUri'].longLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/businessCommunication/emails/emailUri'].minLength == '##number'
  And match each response.meta['/data/transforms'][*]['/worker/businessCommunication/emails/emailUri'].maxLength == '##number'
  And match each response.meta['/data/transforms'][*]['/worker/businessCommunication/emails/emailUri'].pattern == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/businessCommunication/emails/emailUri'].dataType == '##string'

Scenario Outline: Get rehire worker metadata with different roleCode values
  Given path '/events/hr/v1/worker.rehire/meta'
  And header Accept = 'application/json'
  And header roleCode = '<roleCode>'
  When method GET
  Then status 200
  And match response == '#object'
  And match response.meta == '#object'
  And match response.meta['/serviceCategoryCode/codeValue'] == '##string'
  And match response.meta['/eventNameCode/codeValue'] == '##string'
  And match response.meta['/data/eventContext'] == '#object'
  And match response.meta['/data/transforms'] == '#array'
  And match each response.meta['/data/transforms'][*] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/person'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/person'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/birthDate'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/person/birthDate'].optional == '##boolean'
  And match each response.meta['/data/transforms'][*]['/worker/person/birthDate'].shortLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/birthDate'].longLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/birthDate'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/citizenshipCountryCodes'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/person/citizenshipCountryCodes'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/citizenshipCountryCodes/codeValue'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/person/citizenshipCountryCodes/codeValue'].optional == '##boolean'
  And match each response.meta['/data/transforms'][*]['/worker/person/citizenshipCountryCodes/codeValue'].shortLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/citizenshipCountryCodes/codeValue'].longLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/citizenshipCountryCodes/codeValue'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/citizenshipCountryCodes/codeValue'].valueSet == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/person/citizenshipCountryCodes/codeValue'].valueSet.valueSetListItems == '#array'
  And match each response.meta['/data/transforms'][*]['/worker/person/citizenshipCountryCodes/codeValue'].valueSet.valueSetListItems[*] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/person/citizenshipCountryCodes/codeValue'].valueSet.valueSetListItems[*].idValue == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/citizenshipCountryCodes/codeValue'].valueSet.valueSetListItems[*].itemDescription == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalName'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalName'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalName/familyName1'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalName/familyName1'].optional == '##boolean'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalName/familyName1'].shortLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalName/familyName1'].longLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalName/familyName1'].minLength == '##number'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalName/familyName1'].maxLength == '##number'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalName/familyName1'].pattern == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalName/familyName1'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalName/givenName'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalName/givenName'].optional == '##boolean'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalName/givenName'].shortLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalName/givenName'].longLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalName/givenName'].minLength == '##number'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalName/givenName'].maxLength == '##number'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalName/givenName'].pattern == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalName/givenName'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/jobCode'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/jobCode'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/jobCode/codeValue'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/jobCode/codeValue'].optional == '##boolean'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/jobCode/codeValue'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/jobCode/codeValue'].dependencyLinks == '##array'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/jobCode/codeValue'].dependencyLinks[*] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/jobCode/codeValue'].dependencyLinks[*].href == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/jobCode/codeValue'].dependencyLinks[*].rel == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/jobCode/codeValue'].dependencyLinks[*].mediaType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/jobCode/codeValue'].dependencyLinks[*].method == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/expectedStartDate'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/expectedStartDate'].optional == '##boolean'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/expectedStartDate'].shortLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/expectedStartDate'].longLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/expectedStartDate'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workerDates'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/workerDates'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workerDates/rehireDate'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/workerDates/rehireDate'].optional == '##boolean'
  And match each response.meta['/data/transforms'][*]['/worker/workerDates/rehireDate'].shortLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workerDates/rehireDate'].longLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workerDates/rehireDate'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workerID'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/workerID'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workerID/idValue'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/workerID/idValue'].optional == '##boolean'
  And match each response.meta['/data/transforms'][*]['/worker/workerID/idValue'].shortLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workerID/idValue'].longLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workerID/idValue'].minLength == '##number'
  And match each response.meta['/data/transforms'][*]['/worker/workerID/idValue'].maxLength == '##number'
  And match each response.meta['/data/transforms'][*]['/worker/workerID/idValue'].pattern == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workerID/idValue'].dataType == '##string'

  Examples:
    | read('events_hr_v1_worker.rehire_meta_get.csv') |

Scenario: Get rehire worker metadata with invalid roleCode
  Given path '/events/hr/v1/worker.rehire/meta'
  And header Accept = 'application/json'
  And header roleCode = 'invalid_role'
  When method GET
  Then status 200
  And match response == '#object'
  And match response.meta == '#object'

Scenario: Verify detailed nested properties in transforms array
  Given path '/events/hr/v1/worker.rehire/meta'
  And header Accept = 'application/json'
  And header roleCode = 'administrator'
  When method GET
  Then status 200
  And match response.meta['/data/transforms'] == '#array'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalAddress'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalAddress'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalAddress/cityName'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalAddress/cityName'].optional == '##boolean'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalAddress/cityName'].shortLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalAddress/cityName'].longLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalAddress/cityName'].minLength == '##number'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalAddress/cityName'].maxLength == '##number'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalAddress/cityName'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalAddress/countryCode'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalAddress/countryCode'].optional == '##boolean'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalAddress/countryCode'].shortLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalAddress/countryCode'].longLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalAddress/countryCode'].default == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalAddress/countryCode'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalAddress/countryCode'].valueSet == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalAddress/countryCode'].valueSet.valueSetListItems == '#array'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalAddress/countryCode'].valueSet.valueSetListItems[*] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalAddress/countryCode'].valueSet.valueSetListItems[*].idValue == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/person/legalAddress/countryCode'].valueSet.valueSetListItems[*].itemDescription == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/baseRemuneration'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/baseRemuneration'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/baseRemuneration/payPeriodRateAmount'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/baseRemuneration/payPeriodRateAmount'].dataType == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/baseRemuneration/payPeriodRateAmount/amountValue'] == '#object'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/baseRemuneration/payPeriodRateAmount/amountValue'].optional == '##boolean'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/baseRemuneration/payPeriodRateAmount/amountValue'].shortLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/baseRemuneration/payPeriodRateAmount/amountValue'].longLabelName == '##string'
  And match each response.meta['/data/transforms'][*]['/worker/workAssignment/baseRemuneration/payPeriodRateAmount/amountValue'].dataType == '##string'

Scenario: Handle unauthorized access
  Given path '/events/hr/v1/worker.rehire/meta'
  And header Accept = 'application/json'
  And header Authorization = 'Bearer invalid_token'
  When method GET
  Then assert responseStatus != 200
  And match response == '#object'
  And match response.message == '#string'

Scenario: Handle server error
  Given path '/events/hr/v1/worker.rehire/meta'
  And header Accept = 'application/json'
  When method GET
  Then status 200
  And match response == '#object'
