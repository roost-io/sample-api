# ********RoostGPT********

# Test generated by RoostGPT for test adp_api_test_karate_sonnet4 using AI Type Claude AI and AI Model claude-sonnet-4-20250514
# 
# Feature file generated for /hr/v2/workers_get for http method type GET 
# RoostTestHash=3a0d8b55f2
# 
# 

# ********RoostGPT********
Feature: Get Workers API

  Background:
    * def urlBase = karate.properties['API_HOST']
    * url urlBase
    * header Accept = 'application/json'

  Scenario: Get all workers without parameters
    Given path '/hr/v2/workers'
    When method GET
    Then status 200
    And match responseHeaders['Cache-Control'] == '#string'
    And match responseHeaders['Content-Type'] == '#string'
    And match response.workers == '#array'
    And match each response.workers[*].workerID == '#object'
    And match each response.workers[*].workerID.idValue == '#string'
    And match each response.workers[*].workerID.schemeCode == '##object'
    And match each response.workers[*].workerID.schemeCode.codeValue == '##string'
    And match each response.workers[*].workerID.schemeCode.shortName == '##string'
    And match each response.workers[*].associateOID == '##string'
    And match each response.workers[*].workerStatus == '##object'
    And match each response.workers[*].workerStatus.statusCode == '##object'
    And match each response.workers[*].workerStatus.statusCode.codeValue == '##string'
    And match each response.workers[*].workerStatus.statusCode.shortName == '##string'
    And match each response.workers[*].person == '##object'
    And match each response.workers[*].person.legalName == '##object'
    And match each response.workers[*].person.legalName.familyName1 == '##string'
    And match each response.workers[*].person.legalName.givenName == '##string'
    And match each response.workers[*].person.legalName.formattedName == '##string'
    And match each response.workers[*].person.birthDate == '##string'
    And match each response.workers[*].person.genderCode == '##object'
    And match each response.workers[*].person.genderCode.codeValue == '##string'
    And match each response.workers[*].businessCommunication == '##object'
    And match each response.workers[*].businessCommunication.emails == '##array'
    And match each response.workers[*].workerDates == '##object'
    And match each response.workers[*].workerDates.terminationDate == '##string'
    And match each response.workers[*].workAssignments == '##array'

  Scenario Outline: Get workers with query parameters
    Given path '/hr/v2/workers'
    And param $filter = '<filter>'
    And param $count = <count>
    And param $top = <top>
    And param $skip = <skip>
    When method GET
    Then status 200
    And match responseHeaders['Cache-Control'] == '#string'
    And match responseHeaders['Content-Type'] == '#string'
    And match response.workers == '#array'
    And match each response.workers[*].workerID == '#object'
    And match each response.workers[*].workerID.idValue == '#string'
    And match each response.workers[*].workerID.schemeCode == '##object'
    And match each response.workers[*].workerID.schemeCode.codeValue == '##string'
    And match each response.workers[*].workerID.schemeCode.shortName == '##string'
    And match each response.workers[*].associateOID == '##string'
    And match each response.workers[*].workerStatus == '##object'
    And match each response.workers[*].workerStatus.statusCode == '##object'
    And match each response.workers[*].workerStatus.statusCode.codeValue == '##string'
    And match each response.workers[*].workerStatus.statusCode.shortName == '##string'
    And match each response.workers[*].person == '##object'
    And match each response.workers[*].person.legalName == '##object'
    And match each response.workers[*].person.legalName.familyName1 == '##string'
    And match each response.workers[*].person.legalName.givenName == '##string'
    And match each response.workers[*].person.legalName.formattedName == '##string'
    And match each response.workers[*].person.birthDate == '##string'
    And match each response.workers[*].person.genderCode == '##object'
    And match each response.workers[*].person.genderCode.codeValue == '##string'
    And match each response.workers[*].businessCommunication == '##object'
    And match each response.workers[*].businessCommunication.emails == '##array'
    And match each response.workers[*].workerDates == '##object'
    And match each response.workers[*].workerDates.terminationDate == '##string'
    And match each response.workers[*].workAssignments == '##array'

    Examples:
      | read('hr_v2_workers_get.csv') |

  Scenario: Get workers with filter parameter only
    Given path '/hr/v2/workers'
    And param $filter = '/workers/workerID/idValue eq \'0099\''
    When method GET
    Then status 200
    And match responseHeaders['Cache-Control'] == '#string'
    And match responseHeaders['Content-Type'] == '#string'
    And match response.workers == '#array'

  Scenario: Get workers with count parameter only
    Given path '/hr/v2/workers'
    And param $count = true
    When method GET
    Then status 200
    And match responseHeaders['Cache-Control'] == '#string'
    And match responseHeaders['Content-Type'] == '#string'
    And match response.workers == '#array'

  Scenario: Get workers with top parameter only
    Given path '/hr/v2/workers'
    And param $top = 10
    When method GET
    Then status 200
    And match responseHeaders['Cache-Control'] == '#string'
    And match responseHeaders['Content-Type'] == '#string'
    And match response.workers == '#array'

  Scenario: Get workers with skip parameter only
    Given path '/hr/v2/workers'
    And param $skip = 20
    When method GET
    Then status 200
    And match responseHeaders['Cache-Control'] == '#string'
    And match responseHeaders['Content-Type'] == '#string'
    And match response.workers == '#array'

  Scenario: Get workers - Bad Request (400)
    Given path '/hr/v2/workers'
    And param $filter = 'invalid_filter'
    When method GET
    Then assert responseStatus != 200
    And match response.message == '#object'
    And match response.message.confirmMessage == '#object'
    And match response.message.confirmMessage.confirmMessageID == '#object'
    And match response.message.confirmMessage.confirmMessageID.idValue == '##string'
    And match response.message.confirmMessage.confirmMessageID.schemeName == '##string'
    And match response.message.confirmMessage.confirmMessageID.schemeAgencyName == '##string'
    And match response.message.confirmMessage.createDateTime == '##string'
    And match response.message.confirmMessage.requestReceiptDateTime == '##string'
    And match response.message.confirmMessage.protocolStatusCode == '#object'
    And match response.message.confirmMessage.protocolStatusCode.codeValue == '##string'
    And match response.message.confirmMessage.protocolCode == '#object'
    And match response.message.confirmMessage.protocolCode.codeValue == '##string'
    And match response.message.confirmMessage.requestStatusCode == '#object'
    And match response.message.confirmMessage.requestStatusCode.codeValue == '##string'
    And match response.message.confirmMessage.requestMethodCode == '#object'
    And match response.message.confirmMessage.requestMethodCode.codeValue == '##string'
    And match response.message.confirmMessage.requestLink == '#object'
    And match response.message.confirmMessage.requestLink.href == '##string'
    And match response.message.confirmMessage.requestLink.rel == '##string'
    And match response.message.confirmMessage.requestLink.mediaType == '##string'
    And match response.message.confirmMessage.requestLink.method == '##string'
    And match response.message.confirmMessage.processMessages == '##array'
    And match response.message.confirmMessage.resourceMessages == '##array'

  Scenario: Get workers - Unauthorized (401)
    Given path '/hr/v2/workers'
    And header Authorization = 'invalid_token'
    When method GET
    Then status 401
    And match response.message == '#string'

  Scenario: Get workers - Internal Server Error (500)
    Given path '/hr/v2/workers'
    And param $top = -1
    When method GET
    Then status 500
    And match response.message == '##string'

  Scenario: Validate nested work assignments properties
    Given path '/hr/v2/workers'
    When method GET
    Then status 200
    And match response.workers == '#array'
    And match each response.workers[*].workAssignments[*].primaryIndicator == '##boolean'
    And match each response.workers[*].workAssignments[*].jobTitle == '##string'
    And match each response.workers[*].workAssignments[*].hireDate == '##string'

  Scenario: Validate nested business communication emails properties
    Given path '/hr/v2/workers'
    When method GET
    Then status 200
    And match response.workers == '#array'
    And match each response.workers[*].businessCommunication.emails[*].emailUri == '##string'

  Scenario: Validate response headers presence
    Given path '/hr/v2/workers'
    When method GET
    Then status 200
    And match responseHeaders['Cache-Control'] == '#present'
    And match responseHeaders['Content-Type'] == '#present'
    And match responseHeaders['sm_transactionid'] == '##string'
