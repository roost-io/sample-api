# ********RoostGPT********

# Test generated by RoostGPT for test integration-artillary-petstore-v3 using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# ROOST_METHOD_HASH=9d3c7d64d4
# ROOST_METHOD_SIG_HASH=2b5f7094f6
# 
#  ########## Scenario ########## 
# 
# {
#   feature: 'Feature: Query pets by status and tags',
#   background: null,
#   rule: null,
#   scenario: {
#     title: 'Scenario: Retrieve pets by tags',
#     steps: 'Given I set request-param "tags" to "trial,test"\n' +
#       'When I send GET request to "/pet/findByTags"\n' +
#       'Then the response status code should be 200\n' +
#       'And the response JSON should be an array',
#     examples: ''
#   }
# }
# 

# ********RoostGPT********
Feature: Query pets by status and tags

  Background:
    * def PETSTORE_V3_3273D64931_URL = karate.properties['PETSTORE_V3_3273D64931_URL'] || karate.get('PETSTORE_V3_3273D64931_URL', 'http://localhost:4010')
    * def PETSTORE_V3_3273D64931_AUTH_TOKEN = karate.properties['PETSTORE_V3_3273D64931_AUTH_TOKEN'] || karate.get('PETSTORE_V3_3273D64931_AUTH_TOKEN', 'Bearer_Dummy_Token')
    * configure headers = { Authorization: PETSTORE_V3_3273D64931_AUTH_TOKEN }

  Scenario: Retrieve pets by tags with valid input
    * url PETSTORE_V3_3273D64931_URL
    And path '/pet/findByTags'
    And param tags = 'trial,test'
    When method GET
    Then status 200
    And match response == ###
    [
      {
        "id": "#number",
        "name": "#string",
        "category": {
          "id": "#number",
          "name": "#string"
        },
        "photoUrls": [
          "#string"
        ],
        "tags": [
          {
            "id": "#number",
            "name": "#string"
          }
        ],
        "status": "#string"
      }
    ]
    ###

  Scenario: Retrieve pets by tags with invalid input
    * url PETSTORE_V3_3273D64931_URL
    And path '/pet/findByTags'
    And param tags = 'invalid_tag'
    When method GET
    Then status 400

  Scenario: Retrieve pets by tags with unexpected behavior
    * url PETSTORE_V3_3273D64931_URL
    And path '/pet/findByTags'
    And param tags = 'unexpected,scenario'
    When method GET
    Then status != 200
    And status != 400
