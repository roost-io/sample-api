# ********RoostGPT********

# Test generated by RoostGPT for test kuvera_karate_get_api using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Feature file generated for /api/v3/user/info.json_get for http method type GET 
# RoostTestHash=bd0b92da19
# 
# 

# ********RoostGPT********
Feature: User Information API Test
  This feature file tests the /api/v3/user/info.json endpoint.

  Background:
    * def urlBase = karate.properties['URL_BASE']
    * url urlBase
    * configure headers = { Authorization: "#(karate.properties['AUTH_TOKEN'])" }

  Scenario Outline: Get User Information with Valid Authorization
    Given path 'api/v3/user/info.json'
    When method GET
    Then status 200
    And match response == """
      {
        id: '#number',
        current_portfolio: {
          onboarding_state: '#number',
          id: '#number',
          name: '#string',
          mode_of_investment: '#string',
          smart_switch: '#boolean',
          trade_smart: '#boolean',
          tax_harvesting: '#boolean',
          applicant_signature: '#[]',
          aof_status: '#string'
        },
        email: '#string',
        fname: '#string',
        mname: '#string',
        lname: '#string',
        name: '#string',
        onboarding_state: '#number',
        provider: '#string',
        referral_code: '#string',
        referred: '#boolean',
        preferences: {
          coins_preferences: {
            smart_switch: '#boolean',
            family_account: '#boolean',
            smart_switch_2: '#boolean'
          },
          display_sort_preference: '#string',
          equity_beta: '#boolean',
          fd_beta: '#boolean',
          dont_prompt_m1: '#boolean',
          dont_prompt_mandate: '#boolean',
          dont_prompt_import_cas: '#boolean',
          dont_prompt_insurance: '#boolean',
          2fa_on: '#boolean',
          dashboard_returns: '#string',
          dont_prompt_asset_allocation: '#boolean'
        },
        newsletter: '#string',
        mobile_phone: '#string',
        state: '#number',
        has_imported: '#boolean',
        big_investor: '#boolean',
        holiday: '#string',
        dob: '#string',
        kayako: {
          timestamp: '#string',
          token: '#string'
        }
      }
      """
    Examples:
      | auth_token            |
      | example-valid-token   |

  Scenario: Validate Unauthorized Access when Token is Missing
    Given path 'api/v3/user/info.json'
    * configure headers = {}
    When method GET
    Then status 401
    And match response == """
      {
        message: '#string',
        code: '#number'
      }
      """
