# ********RoostGPT********

# Test generated by RoostGPT for test karate-sample-api-claude using AI Type Claude AI and AI Model claude-3-opus-20240229
# 
# Feature file generated for /nobelPrize/{category}/{year}_get for http method type GET 
# RoostTestHash=adfce3f1d2
# 
# 

# ********RoostGPT********
Feature: Nobel Prize API

Background:
  * def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http://localhost:8080')
  * url urlBase
  * def AUTH_TOKEN = karate.properties['AUTH_TOKEN']

Scenario Outline: Get Nobel Prize by category and year
  Given path '/2.1/nobelPrize/<category>/<year>'
  And header Authorization = AUTH_TOKEN
  When method GET
  Then status 200
  And match header Content-Type contains 'application/json'
  And match response.nobelPrize.awardYear == <year>
  And match response.nobelPrize.category.en == '#string'
  And match response.nobelPrize.categoryFullName.en == '#string'
  And match response.nobelPrize.dateAwarded == '#regex ^\\d{4}-\\d{2}-\\d{2}$'
  And match response.nobelPrize.prizeAmount == '#number'
  And match response.nobelPrize.prizeAmountAdjusted == '#number'
  And match response.nobelPrize.topMotivation.en == '#string'
  And match each response.nobelPrize.laureates == 
    """
    {
      id: '#number',
      name: {
        en: '#string'
      },
      portion: '#regex ^(1|1/2|1/3|1/4)$',
      sortOrder: '#regex ^(1|2|3)$',
      motivation: {
        en: '#string'  
      },
      links: '#array'
    }
    """
  
  Examples:
    | category | year |
    | che      | 1989 |
    | eco      | 2015 |
    | lit      | 1901 |
    | pea      | 2020 |
    | phy      | 1921 |
    | med      | 1952 |

Scenario Outline: Get Nobel Prize with invalid category
  Given path '/2.1/nobelPrize/<invalidCategory>/<year>'
  And header Authorization = AUTH_TOKEN  
  When method GET
  Then status 400
  And match header Content-Type contains 'application/json'
  And match response == 
    """
    {
      code: '400',
      message: 'Bad request.The request could not be understood by the server due to malformed syntax, modifications needed.'
    }
    """

  Examples:
    | invalidCategory | year |
    | test            | 2015 |
    | 123             | 1989 |

Scenario Outline: Get Nobel Prize with invalid year
  Given path '/2.1/nobelPrize/<category>/<invalidYear>'
  And header Authorization = AUTH_TOKEN
  When method GET
  Then status 404
  And match header Content-Type contains 'application/json' 
  And match response ==
    """
    {
      code: '404',
      message: 'Not Found. The requested resource could not be found but may be available again in the future.'
    }  
    """

  Examples:
    | category | invalidYear |
    | eco      | 1800        |
    | lit      | 2050        |

Scenario Outline: Get Nobel Prize with missing authorization
  Given path '/2.1/nobelPrize/<category>/<year>'
  When method GET
  Then status 401
  And match header Content-Type contains 'application/json'
  And match response == 
    """
    {
      code: '401',
      message: 'Unauthorized. The request requires user authentication.'
    }
    """ 

  Examples:
    | category | year |
    | phy      | 1921 |
    | med      | 1952 |
