# ********RoostGPT********

# Test generated by RoostGPT for test roostgpt-apispec using AI Type Claude AI and AI Model claude-sonnet-4-20250514
# 
# Feature file generated for /test/deleteTest_delete for http method type DELETE 
# RoostTestHash=0f357a1b34
# 
# 

# ********RoostGPT********
Feature: Delete Test Plans API

  Background:
    * def urlBase = karate.properties['API_HOST']
    * url urlBase
    * configure headers = { Authorization: #('Bearer ' + karate.properties['bearer']) }

  Scenario Outline: Delete test plans with valid parameters
    Given path '/test/deleteTest'
    And request
      """
      { 
        "license_key": "<license_key>", 
        "olderThan": "<olderThan>" 
      }
      """
    When method DELETE
    Then status 200

    Examples:
      | read('test_deleteTest_delete.csv') |

  Scenario Outline: Delete test plans with invalid olderThan pattern
    Given path '/test/deleteTest'
    And request
      """
      { 
        "license_key": "<license_key>", 
        "olderThan": "<olderThan>" 
      }
      """
    When method DELETE
    Then status != 200
    And match response.code == '#number'
    And match response.message == '#string'
    And match response.method == 'DELETE'
    And match response.path == '#string'
    And match response.timestamp == '#string'
    And match response.timestamp == '#regex \\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}'

    Examples:
      | license_key      | olderThan |
      | test-license-123 |    30days |
      | test-license-456 |     1week |
      | test-license-789 | invalid   |
      | test-license-abc |        30 |
      | test-license-xyz | d30       |

  Scenario Outline: Delete test plans with missing required fields
    Given path '/test/deleteTest'
    And request <requestBody>
    When method DELETE
    Then status != 200
    And match response.code == '#number'
    And match response.message == '#string'
    And match response.method == 'DELETE'
    And match response.path == '#string'
    And match response.timestamp == '#string'
    And match response.timestamp == '#regex \\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}'

    Examples:
      | requestBody                         |
      | { license_key: 'test-license-123' } |
      | { olderThan: '30d' }                |
      | {}                                  |

  Scenario: Delete test plans with empty license key
    Given path '/test/deleteTest'
    And request
      """
      { 
        "license_key": "", 
        "olderThan": "30d" 
      }
      """
    When method DELETE
    Then status != 200
    And match response.code == '#number'
    And match response.message == '#string'
    And match response.method == 'DELETE'
    And match response.path == '#string'
    And match response.timestamp == '#string'
    And match response.timestamp == '#regex \\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}'

  Scenario: Delete test plans with null values
    Given path '/test/deleteTest'
    And request
      """
      { 
        "license_key": null, 
        "olderThan": null 
      }
      """
    When method DELETE
    Then status != 200
    And match response.code == '#number'
    And match response.message == '#string'
    And match response.method == 'DELETE'
    And match response.path == '#string'
    And match response.timestamp == '#string'
    And match response.timestamp == '#regex \\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}'

  Scenario Outline: Delete test plans with various time periods
    Given path '/test/deleteTest'
    And request
      """
      { 
        "license_key": "test-license-valid", 
        "olderThan": "<olderThan>" 
      }
      """
    When method DELETE
    Then status 200

    Examples:
      | read('test_deleteTest_delete.csv') |

  Scenario: Delete test plans with special characters in license key
    Given path '/test/deleteTest'
    And request
      """
      { 
        "license_key": "test-license-!@#$%^&*()", 
        "olderThan": "30d" 
      }
      """
    When method DELETE
    Then status 200

  Scenario: Delete test plans with very long license key
    Given path '/test/deleteTest'
    And request
      """
      { 
        "license_key": "very-long-license-key-with-many-characters-to-test-boundary-conditions-and-system-limits", 
        "olderThan": "30d" 
      }
      """
    When method DELETE
    Then status 200

  Scenario: Delete test plans without authorization header
    Given path '/test/deleteTest'
    And configure headers = null
    And request
      """
      { 
        "license_key": "test-license-123", 
        "olderThan": "30d" 
      }
      """
    When method DELETE
    Then status != 200
    And match response.code == '#number'
    And match response.message == '#string'
    And match response.method == 'DELETE'
    And match response.path == '#string'
    And match response.timestamp == '#string'
    And match response.timestamp == '#regex \\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}'
