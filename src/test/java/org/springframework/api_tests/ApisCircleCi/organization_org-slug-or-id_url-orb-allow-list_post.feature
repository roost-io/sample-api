# ********RoostGPT********

# Test generated by RoostGPT for test Karate_Test using AI Type Open AI and AI Model gpt-4o
# 
# Feature file generated for /organization/{org-slug-or-id}/url-orb-allow-list_post for http method type POST 
# RoostTestHash=b75dae64e4
# 
# 

# ********RoostGPT********
Feature: Create URL Orb Allow-List Entry

  Background:
    * def urlBase = karate.properties['API_HOST']
    * url urlBase
    * header Authorization = 'Basic REPLACE_BASIC_AUTH'
    * header Content-Type = 'application/json'

  Scenario Outline: Create a new URL Orb allow-list entry
    Given path 'organization', '<org-slug-or-id>', 'url-orb-allow-list'
    And request
      """
      { 
        "name": "<name>", 
        "prefix": "<prefix>", 
        "auth": "<auth>" 
      }
      """
    When method POST
    Then status 200
    And match response ==
      """
      { 
        id: '#string', 
        message: '#string' 
      }
      """
    And match response.id == '#regex ^[a-f0-9-]{36}$'
    And match response.message == '#string'

    Examples:
      | read('organization_org-slug-or-id_url-orb-allow-list_post.csv') |

  Scenario Outline: Error response for invalid input
    Given path 'organization', '<org-slug-or-id>', 'url-orb-allow-list'
    And request
      """
      { 
        "name": "<name>", 
        "prefix": "<prefix>", 
        "auth": "<auth>" 
      }
      """
    When method POST
    Then status 400
    And match response ==
      """
      { 
        message: '#string' 
      }
      """

    Examples:
      | org-slug-or-id     | name | prefix | auth         |
      | gh/CircleCI-Public |      |        |              |
      | gh/CircleCI-Public | Test |        | invalid-auth |
