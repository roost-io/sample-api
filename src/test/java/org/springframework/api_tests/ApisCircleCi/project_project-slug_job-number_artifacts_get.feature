# ********RoostGPT********

# Test generated by RoostGPT for test Karate_Test using AI Type Open AI and AI Model gpt-4o
# 
# Feature file generated for /project/{project-slug}/{job-number}/artifacts_get for http method type GET 
# RoostTestHash=e6c8787d97
# 
# 

# ********RoostGPT********
Feature: Test Job Artifacts API

  Background:
    * def urlBase = karate.properties['API_HOST']
    * url urlBase
    * configure headers = { Authorization: 'Basic REPLACE_BASIC_AUTH' }

  Scenario Outline: Retrieve job artifacts with valid project slug and job number
    Given path 'project', '<project-slug>', '<job-number>', 'artifacts'
    When method GET
    Then status 200
    And match response == '#object'
    And match response.items == '#array'
    And match response.items[*].path == '#string'
    And match response.items[*].node_index == '#number'
    And match response.items[*].url == '#string'
    And match response.next_page_token == '#string?'

    Examples:
      | read('project_project-slug_job-number_artifacts_get.csv') |

  Scenario Outline: Retrieve job artifacts with invalid project slug or job number
    Given path 'project', '<project-slug>', '<job-number>', 'artifacts'
    When method GET
    Then status 404
    And match response == '#object'
    And match response.message == '#string'

    Examples:
      | project-slug                        | job-number |
      | gh/Invalid-Project/api-preview-docs |        123 |
      | gh/CircleCI-Public/api-preview-docs |        999 |

  Scenario: Retrieve job artifacts with missing authorization
    * configure headers = {}
    Given path 'project', 'gh/CircleCI-Public/api-preview-docs', 123, 'artifacts'
    When method GET
    Then status 401
    And match response == '#object'
    And match response.message == '#string'
