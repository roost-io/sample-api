# ********RoostGPT********

# Test generated by RoostGPT for test Karate_Test using AI Type Open AI and AI Model gpt-4o
# 
# Feature file generated for /organization/{org-slug-or-id}/project_post for http method type POST 
# RoostTestHash=7c6c08b626
# 
# 

# ********RoostGPT********
Feature: Create a new project in an organization

  Background:
    * def urlBase = karate.properties['API_HOST']
    * url urlBase
    * def authHeader = { Authorization: 'Basic REPLACE_BASIC_AUTH' }

  Scenario Outline: Create a new project with valid input
    Given path 'organization', '<org-slug-or-id>', 'project'
    And request """ { name: '<project-name>' } """
    And headers authHeader
    When method POST
    Then status 200
    And match response == '#object'
    And match response.slug == '#string'
    And match response.name == '<project-name>'
    And match response.id == '#uuid'
    And match response.organization_name == '#string'
    And match response.organization_slug == '#string'
    And match response.organization_id == '#uuid'
    And match response.vcs_info == '#object'
    And match response.vcs_info.vcs_url == '#string'
    And match response.vcs_info.provider == '#string'
    And match response.vcs_info.default_branch == '#string'

    Examples:
      | read('organization_org-slug-or-id_project_post.csv') |

  Scenario Outline: Attempt to create a project with missing name
    Given path 'organization', '<org-slug-or-id>', 'project'
    And request """ { } """
    And headers authHeader
    When method POST
    Then status 400
    And match response == '#object'
    And match response.message == '#string'

    Examples:
      | org-slug-or-id     |
      | gh/CircleCI-Public |

  Scenario Outline: Attempt to create a project with invalid org-slug-or-id
    Given path 'organization', '<org-slug-or-id>', 'project'
    And request """ { name: '<project-name>' } """
    And headers authHeader
    When method POST
    Then status 404
    And match response == '#object'
    And match response.message == '#string'

    Examples:
      | org-slug-or-id | project-name     |
      | invalid-org-id | api-preview-docs |
