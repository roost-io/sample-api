# ********RoostGPT********

# Test generated by RoostGPT for test Karate_Test using AI Type Open AI and AI Model gpt-4o
# 
# Feature file generated for /insights/{project-slug}/workflows_get for http method type GET 
# RoostTestHash=56d2122d35
# 
# 

# ********RoostGPT********
Feature: Insights API - Get Project Workflow Metrics

  Background:
    * def urlBase = karate.properties['API_HOST']
    * url urlBase

  Scenario Outline: Validate GET /insights/{project-slug}/workflows with valid parameters
    Given path 'insights', '<project-slug>', 'workflows'
    And param 'page-token' = <page-token>
    And param 'all-branches' = <all-branches>
    And param 'branch' = '<branch>'
    And param 'reporting-window' = '<reporting-window>'
    When method GET
    Then status 200
    And match response.items == '#[]'
    And match response.items[*].name == '#string'
    And match response.items[*].metrics.total_runs == '#number'
    And match response.items[*].metrics.successful_runs == '#number'
    And match response.items[*].metrics.mttr == '#number'
    And match response.items[*].metrics.total_credits_used == '#number'
    And match response.items[*].metrics.failed_runs == '#number'
    And match response.items[*].metrics.success_rate == '#number'
    And match response.items[*].metrics.duration_metrics.min == '#number'
    And match response.items[*].metrics.duration_metrics.mean == '#number'
    And match response.items[*].metrics.duration_metrics.median == '#number'
    And match response.items[*].metrics.duration_metrics.p95 == '#number'
    And match response.items[*].metrics.duration_metrics.max == '#number'
    And match response.items[*].metrics.duration_metrics.standard_deviation == '#number'
    And match response.items[*].metrics.total_recoveries == '#number'
    And match response.items[*].metrics.throughput == '#number'
    And match response.items[*].window_start == '#string'
    And match response.items[*].window_end == '#string'
    And match response.items[*].project_id == '#string'
    And match response.next_page_token == '#string?'

    Examples:
      | read('insights_project-slug_workflows_get.csv') |

  Scenario: Validate GET /insights/{project-slug}/workflows with invalid project-slug
    Given path 'insights', 'invalid-slug', 'workflows'
    When method GET
    Then status 404
    And match response.message == '#string'

  Scenario: Validate GET /insights/{project-slug}/workflows with missing required parameters
    Given path 'insights', 'gh/CircleCI-Public/api-preview-docs', 'workflows'
    When method GET
    Then status 400
    And match response.message == '#string'
