# ********RoostGPT********

# Test generated by RoostGPT for test Karate_Test using AI Type Open AI and AI Model gpt-4o
# 
# Feature file generated for /workflow/{id}/approve/{approval_request_id}_post for http method type POST 
# RoostTestHash=5241029298
# 
# 

# ********RoostGPT********
Feature: Approve Pending Approval Job in a Workflow

  Background:
    * def urlBase = karate.properties['API_HOST']
    * url urlBase

  Scenario Outline: Approve a pending approval job with valid IDs
    Given path 'workflow', '<id>', 'approve', '<approval_request_id>'
    And request {}
    When method POST
    Then status 202
    And match response == { message: '#string' }
    And match response.message contains 'approved'

    Examples:
      | read('workflow_id_approve_approval_request_id_post.csv') |

  Scenario Outline: Approve a pending approval job with invalid IDs
    Given path 'workflow', '<id>', 'approve', '<approval_request_id>'
    And request {}
    When method POST
    Then status 400
    And match response == { message: '#string' }

    Examples:
      | id                                   | approval_request_id                  |
      | invalid-id                           | 123e4567-e89b-12d3-a456-426614174000 |
      | 5034460f-c7c4-4c43-9457-de07e2029e7b | invalid-approval-id                  |

  Scenario: Approve a pending approval job with missing IDs
    Given path 'workflow', '', 'approve', ''
    And request {}
    When method POST
    Then status 404
    And match response == { message: '#string' }

  Scenario Outline: Approve a pending approval job with unauthorized access
    Given path 'workflow', '<id>', 'approve', '<approval_request_id>'
    And header Authorization = 'Basic INVALID_AUTH'
    And request {}
    When method POST
    Then status 401
    And match response == { message: '#string' }

    Examples:
      | id                                   | approval_request_id                  |
      | 5034460f-c7c4-4c43-9457-de07e2029e7b | 123e4567-e89b-12d3-a456-426614174000 |
