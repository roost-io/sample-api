# ********RoostGPT********

# Test generated by RoostGPT for test Karate_Test using AI Type Open AI and AI Model gpt-4o
# 
# Feature file generated for /insights/time-series/{project-slug}/workflows/{workflow-name}/jobs_get for http method type GET 
# RoostTestHash=682018cf14
# 
# 

# ********RoostGPT********
Feature: Job Timeseries Data API

  Background:
    * def urlBase = karate.properties['API_HOST']
    * url urlBase
    * header Authorization = 'Basic REPLACE_BASIC_AUTH'

  Scenario Outline: Get timeseries data for jobs within a workflow
    Given path 'insights/time-series/<project-slug>/workflows/<workflow-name>/jobs'
    And param branch = '<branch>'
    And param granularity = '<granularity>'
    And param start-date = '<start-date>'
    And param end-date = '<end-date>'
    When method GET
    Then status 200
    And match response == '#object'
    And match response.next_page_token == '#string?'
    And match response.items == '#array'
    And match response.items[*].name == '#string'
    And match response.items[*].min_started_at == '#string'
    And match response.items[*].max_ended_at == '#string'
    And match response.items[*].timestamp == '#string'
    And match response.items[*].metrics == '#object'
    And match response.items[*].metrics.total_runs == '#number'
    And match response.items[*].metrics.failed_runs == '#number'
    And match response.items[*].metrics.successful_runs == '#number'
    And match response.items[*].metrics.throughput == '#number'
    And match response.items[*].metrics.median_credits_used == '#number'
    And match response.items[*].metrics.total_credits_used == '#number'
    And match response.items[*].metrics.duration_metrics == '#object'
    And match response.items[*].metrics.duration_metrics.min == '#number?'
    And match response.items[*].metrics.duration_metrics.median == '#number?'
    And match response.items[*].metrics.duration_metrics.max == '#number?'
    And match response.items[*].metrics.duration_metrics.p95 == '#number?'
    And match response.items[*].metrics.duration_metrics.total == '#number?'

    Examples:
      | read('insights_time-series_project-slug_workflows_workflow-name_jobs_get.csv') |

  Scenario: Error response for invalid project slug
    Given path 'insights/time-series/invalid-slug/workflows/build-and-test/jobs'
    When method GET
    Then status 404
    And match response == '#object'
    And match response.message == '#string'
