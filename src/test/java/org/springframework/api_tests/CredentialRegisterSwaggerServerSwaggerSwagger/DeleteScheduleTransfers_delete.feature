# ********RoostGPT********

# Test generated by RoostGPT for test Karate_Test using AI Type Open AI and AI Model gpt-4o
# 
# Feature file generated for /DeleteScheduleTransfers_delete for http method type DELETE 
# RoostTestHash=163506abc8
# 
# 

# ********RoostGPT********
Feature: Delete Scheduled Transfers API Tests

  Background:
    * def urlBase = karate.properties['API_HOST']
    * url urlBase
    * def headers = { Authorization: 'Bearer <token>', botId: '<botId>', accountId: '<accountId>' }

  Scenario Outline: Delete scheduled transfer with valid payload
    Given path 'DeleteScheduleTransfers'
    And requestHeaders headers
    And request
      """
      { 
        customerId: <customerId>, 
        paymentId: '<paymentId>', 
        updateTransferType: '<updateTransferType>', 
        sourceAccountId: '<sourceAccountId>' 
      }
      """
    When method DELETE
    Then status 200

    Examples:
      | read('DeleteScheduleTransfers_delete.csv') |

  Scenario Outline: Unauthorized access to delete scheduled transfer
    Given path 'DeleteScheduleTransfers'
    And requestHeaders
      """
      { 
        botId: '<botId>', 
        accountId: '<accountId>' 
      }
      """
    And request
      """
      { 
        customerId: <customerId>, 
        paymentId: '<paymentId>', 
        updateTransferType: '<updateTransferType>', 
        sourceAccountId: '<sourceAccountId>' 
      }
      """
    When method DELETE
    Then status 401
    And match response ==
      """
      { 
        err: { message: '#string' } 
      }
      """

    Examples:
      | botId  | accountId | customerId | paymentId        | updateTransferType | sourceAccountId |
      | bot123 | acc123    |    1045300 | 97087c6c24788b1d | all                |         1045302 |

  Scenario Outline: Delete scheduled transfer not found
    Given path 'DeleteScheduleTransfers'
    And requestHeaders headers
    And request
      """
      { 
        customerId: <customerId>, 
        paymentId: '<paymentId>', 
        updateTransferType: '<updateTransferType>', 
        sourceAccountId: '<sourceAccountId>' 
      }
      """
    When method DELETE
    Then status 404
    And match response ==
      """
      { 
        err: { message: '#string' } 
      }
      """

    Examples:
      | customerId | paymentId     | updateTransferType | sourceAccountId |
      |    9999999 | nonExistentId | all                |         9999999 |
