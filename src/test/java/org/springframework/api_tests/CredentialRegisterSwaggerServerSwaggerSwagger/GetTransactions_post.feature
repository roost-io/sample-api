# ********RoostGPT********

# Test generated by RoostGPT for test Karate_Test using AI Type Open AI and AI Model gpt-4o
# 
# Feature file generated for /GetTransactions_post for http method type POST 
# RoostTestHash=1f452de3d6
# 
# 

# ********RoostGPT********
Feature: Get Transactions API

  Background:
    * def urlBase = karate.properties['API_HOST']
    * url urlBase
    * def headers = { Authorization: 'Bearer <token>', botId: '<botId>', accountId: '<accountId>' }

  Scenario Outline: Validate Get Transactions with valid inputs
    Given path 'GetTransactions'
    And request
      """
      <requestBody>
      """
    And headers headers
    When method POST
    Then status 200
    And match response == '#[]'
    And match response[0].customerId == '#number'
    And match response[0].transactionId == '#number'
    And match response[0].accountNumber == '#string'
    And match response[0].timestamp == '#number'
    And match response[0].amount == '#number'
    And match response[0].currency == '#string'
    And match response[0].debitOrCredit == '#string'
    And match response[0].description == '#string'
    And match response[0].paymentMode == '#string'
    And match response[0].DBANames == '#string'
    And match response[0].status == '#string'
    And match response[0].transactionType == '#string'
    And match response[0].MCCCode == '#number'
    And match response[0].name == '#string'
    And match response[0].address == '#string'
    And match response[0].street == '#string'
    And match response[0].city == '#string'
    And match response[0].state == '#string'
    And match response[0].zip == '#string'
    And match response[0].country == '#string'
    And match response[0].phoneNumber == '#number'
    And match response[0].receiverFirstName == '#string'
    And match response[0].receiverLastName == '#string'
    And match response[0].receiverBank == '#string'
    And match response[0].receiverCountry == '#string'
    And match response[0].senderFirstName == '#string'
    And match response[0].senderLastName == '#string'
    And match response[0].senderBank == '#string'
    And match response[0].senderCountry == '#string'
    And match response[0].id == '#string'

    Examples:
      | read('GetTransactions_post.csv') |

  Scenario: Validate Get Transactions with missing required headers
    Given path 'GetTransactions'
    And request
      """
      { "customerId": "1045300", "accountNumber": ["1045301"], "category": [{"codeType": "MCC", "value": [["5811", "5814"]], "source": "Internal"}], "startDate": "2021-04-01T00:00:00.000+0000", "endDate": "2021-04-30T00:00:00.000+0000", "status": "Posted", "transactionAmount": {"amount": {"gt": 1000}, "currency": "USD"} }
      """
    And headers { Authorization: 'Bearer <token>' }
    When method POST
    Then status 400

  Scenario: Validate Get Transactions with invalid accountId
    Given path 'GetTransactions'
    And request
      """
      { "customerId": "1045300", "accountNumber": ["1045301"], "category": [{"codeType": "MCC", "value": [["5811", "5814"]], "source": "Internal"}], "startDate": "2021-04-01T00:00:00.000+0000", "endDate": "2021-04-30T00:00:00.000+0000", "status": "Posted", "transactionAmount": {"amount": {"gt": 1000}, "currency": "USD"} }
      """
    And headers { Authorization: 'Bearer <token>', botId: '<botId>', accountId: 'invalid' }
    When method POST
    Then status 404
