# ********RoostGPT********

# Test generated by RoostGPT for test Karate_Test using AI Type Open AI and AI Model gpt-4o
# 
# Feature file generated for /enableEStatement_put for http method type PUT 
# RoostTestHash=6e5286d94d
# 
# 

# ********RoostGPT********
Feature: Enable or Disable E-Statements

  Background:
    * def urlBase = karate.properties['API_HOST']
    * url urlBase
    * def headers = { Authorization: 'Bearer <token>', botId: '<botId>', accountId: '<accountId>' }

  Scenario Outline: Enable or Disable E-Statements with valid inputs
    Given path '/enableEStatement'
    And request
      """
      { 
        customerId: <customerId>, 
        email: '<email>', 
        secondaryEmail: '<secondaryEmail>', 
        subscribe: <subscribe>, 
        meta: {} 
      }
      """
    And headers headers
    When method POST
    Then status 200
    And match response == '#object'

    Examples:
      | read('enableEStatement_put.csv') |

  Scenario: Authorization failure
    Given path '/enableEStatement'
    And request
      """
      { 
        customerId: 1045300, 
        email: 'John@gmail.com', 
        secondaryEmail: 'John1@gmail.com', 
        subscribe: true, 
        meta: {} 
      }
      """
    And headers
      """
      { 
        Authorization: 'Bearer invalid_token', 
        botId: '<botId>', 
        accountId: '<accountId>' 
      }
      """
    When method POST
    Then status 401
    And match response.err.message == '#string'

  Scenario: Not Found error
    Given path '/enableEStatement'
    And request
      """
      { 
        customerId: 9999999, 
        email: 'NotExist@gmail.com', 
        secondaryEmail: 'NotExist1@gmail.com', 
        subscribe: true, 
        meta: {} 
      }
      """
    And headers headers
    When method POST
    Then status 404
    And match response.err.message == '#string'
