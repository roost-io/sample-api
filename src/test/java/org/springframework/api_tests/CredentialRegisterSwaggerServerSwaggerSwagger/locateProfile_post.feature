# ********RoostGPT********

# Test generated by RoostGPT for test Karate_Test using AI Type Open AI and AI Model gpt-4o
# 
# Feature file generated for /locateProfile_post for http method type POST 
# RoostTestHash=3ef0f86d0e
# 
# 

# ********RoostGPT********
Feature: Locate Profile API Tests

  Background:
    * def urlBase = karate.properties['API_HOST']
    * url urlBase
    * def authHeader = { Authorization: 'Bearer <token>' }

  Scenario Outline: Test Locate Profile with Valid Inputs
    Given path 'locateProfile'
    And requestHeaders authHeader
    And header botId = '<botId>'
    And header accountId = '<accountId>'
    And request
      """
      { 
        "accountNumber": "<accountNumber>", 
        "customerId": "<customerId>", 
        "ssNumber": "<ssNumber>", 
        "ssnShort": "<ssnShort>" 
      }
      """
    When method POST
    Then status 200
    And match response == '#object'
    And match response.accountNumber == '#string'
    And match response.cardDetails.cardNumber == '#string'
    And match response.cardDetails.expiryDate == '#string'
    And match response.cardDetails.cvv == '#string'
    And match response.cardDetails.pin == '#string'
    And match response.personalQuestions.DOB == '#string'
    And match response.personalQuestions.SSN == '#number'
    And match response.personalQuestions.SecretPassword == '#string'
    And match response.personalQuestions.LDAmount == '#number'
    And match response.personalQuestions.AccNumber == '#string'
    And match response.ssNumber == '#number'
    And match response.ssnShort == '#number'
    And match response.alternatePhoneNumber == '#number'
    And match response.customerId == '#string'
    And match response.email == '#string'
    And match response.identificationNumber == '#string'
    And match response.identificationType == '#string'
    And match response.image == '#string'
    And match response.isAlternateMobileNumber == '#boolean'
    And match response.isPrimaryMobileNumber == '#boolean'
    And match response.location == '#string'
    And match response.name == '#string'
    And match response.personalBanker.name == '#string'
    And match response.personalBanker.email == '#string'
    And match response.personalBanker.mobileNumber == '#string'
    And match response.phone == '#number'
    And match response.securityQuestions == '#array'
    And match response.segmentId == '#number'
    And match response.multiAccounts == '#array'
    And match response.warningCodes == '#array'

    Examples:
      | read('locateProfile_post.csv') |

  Scenario: Test Locate Profile with Missing Authorization
    Given path 'locateProfile'
    And header botId = '12345'
    And header accountId = '67890'
    And request
      """
      { 
        "accountNumber": "1042345", 
        "customerId": "1045300", 
        "ssNumber": "104531234", 
        "ssnShort": "1234" 
      }
      """
    When method POST
    Then status 401
    And match response == '#object'
    And match response.err.message == '#string'

  Scenario: Test Locate Profile with Invalid Endpoint
    Given path 'invalidEndpoint'
    And requestHeaders authHeader
    And header botId = '12345'
    And header accountId = '67890'
    And request
      """
      { 
        "accountNumber": "1042345", 
        "customerId": "1045300", 
        "ssNumber": "104531234", 
        "ssnShort": "1234" 
      }
      """
    When method POST
    Then status 404
    And match response == '#object'
    And match response.err.message == '#string'
