# ********RoostGPT********

# Test generated by RoostGPT for test Karate_Test using AI Type Open AI and AI Model gpt-4o
# 
# Feature file generated for /DeleteRecurringTransfers_delete for http method type DELETE 
# RoostTestHash=8a6a23d791
# 
# 

# ********RoostGPT********
Feature: Delete Recurring Transfers API Tests

  Background:
    * def urlBase = karate.properties['API_HOST']
    * url urlBase
    * def headers = { Authorization: 'Bearer <token>', botId: '<botId>', accountId: '<accountId>' }

  Scenario Outline: Delete Recurring Transfers with valid inputs
    Given path '/DeleteRecurringTransfers'
    And requestHeaders headers
    And request
      """
      { 
        customerId: <customerId>, 
        paymentId: '<paymentId>', 
        updateTransferType: '<updateTransferType>', 
        sourceAccountId: '<sourceAccountId>' 
      }
      """
    When method DELETE
    Then status 200

    Examples:
      | read('DeleteRecurringTransfers_delete.csv') |

  Scenario Outline: Unauthorized access to Delete Recurring Transfers
    Given path '/DeleteRecurringTransfers'
    And requestHeaders
      """
      { 
        botId: '<botId>', 
        accountId: '<accountId>' 
      }
      """
    And request
      """
      { 
        customerId: <customerId>, 
        paymentId: '<paymentId>', 
        updateTransferType: '<updateTransferType>', 
        sourceAccountId: '<sourceAccountId>' 
      }
      """
    When method DELETE
    Then status 401
    And match response.err.message == '#string'

    Examples:
      | botId   | accountId   | customerId | paymentId        | updateTransferType | sourceAccountId |
      | <botId> | <accountId> |    1045304 | 744a77644d67e891 | all                |         1045302 |

  Scenario Outline: Delete Recurring Transfers with non-existent resource
    Given path '/DeleteRecurringTransfers'
    And requestHeaders headers
    And request
      """
      { 
        customerId: <customerId>, 
        paymentId: '<paymentId>', 
        updateTransferType: '<updateTransferType>', 
        sourceAccountId: '<sourceAccountId>' 
      }
      """
    When method DELETE
    Then status 404
    And match response.err.message == '#string'

    Examples:
      | customerId | paymentId     | updateTransferType | sourceAccountId |
      |    9999999 | nonExistentId | all                |         9999999 |
