# ********RoostGPT********

# Test generated by RoostGPT for test api-testing-karate-circleci-OAI-security using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Feature file generated for /context/{context-id}_get for http method type GET 
# RoostTestHash=14d64e9e49
# 
# 

# ********RoostGPT********
Feature: Context API Tests

  Background:
    * def urlBase = karate.properties['api_base_url']
    * url urlBase

  Scenario Outline: Get context details
    Given path 'context', <context_id>
    And param circle-token = karate.properties['circle-token']
    When method GET
    Then status <status_code>
    And match response.id == '#string'
    And match response.id == '#regex ^[a-z0-9-]+$'
    And match response.name == '##string'
    And match response.created_at == '#? _ == null || typeof _ == "string"'
    And match response.created_at == '#regex ^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$'

    Examples:
      | context_id                           | status_code |
      | d29f9def-798a-4d5f-b7bf-e899ae632ea5 |         200 |
      | abc-invalid-id                       |         400 |

  Scenario: Context not found
    Given path 'context', 'invalid-context-id-12345'
    And param circle-token = karate.properties['circle-token']
    When method GET
    Then status 404
    And match response.message == '##string'
    And match response.message == '#regex context not found'

  Scenario Outline: Invalid credentials
    Given path 'context', <context_id>
    And param circle-token = 'invalid-token'
    When method GET
    Then status 401
    And match response.message == '##string'

    Examples:
      | context_id                           |
      | d29f9def-798a-4d5f-b7bf-e899ae632ea5 |
      |             405d-798-invalid-invalid |

  Scenario: Rate limit exceeded
    Given path 'context', 'd29f9def-798a-4d5f-b7bf-e899ae632ea5'
    And param circle-token = karate.properties['circle-token']
    When method GET
    Then status 429
    And match response.message == 'Rate limit exceeded.'
