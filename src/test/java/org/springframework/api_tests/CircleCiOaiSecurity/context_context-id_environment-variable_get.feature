# ********RoostGPT********

# Test generated by RoostGPT for test api-testing-karate-circleci-OAI-security using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Feature file generated for /context/{context-id}/environment-variable_get for http method type GET 
# RoostTestHash=557b8b225f
# 
# 

# ********RoostGPT********
Feature: List Environment Variables from Context API  
  Description: Tests for listing environment variables in a context using API v2  

  Background:  
    * def urlBase = karate.properties['API_HOST_URL']  
    * url urlBase  
    * def authorizationToken = karate.properties['API_AUTH_USERNAME']  
    * header Authorization = 'Basic ' + authorizationToken  

  Scenario Outline: List environment variables with valid inputs  
    Given path 'context/<context-id>/environment-variable'  
    And param page-token = <page_token>  
    When method GET  
    Then status 200  
    And match response.items == '#[]'  
    And match each response.items[*].variable == '#string'  
    And match each response.items[*].created_at == '#string'  
    And match each response.items[*].created_at == '#regex ^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$'  
    And match each response.items[*].updated_at == '#string'  
    And match each response.items[*].updated_at == '#regex ^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$'  
    And match each response.items[*].context_id == '#string'  
    And match each response.items[*].context_id == '#regex ^[0-9a-fA-F-]{36}$'  
    And match response.next_page_token == '#? _ == null || typeof _ == "string"'  

    Examples:  
      | context_id     | page_token      |  
      | '123e4567-e89b-12d3-a456-426614174000' | 'token_string' |  
      | '123e4567-e89b-12d3-a456-426614174000' | null           |  

  Scenario Outline: Invalid context-id leads to error response  
    Given path 'context/<context-id>/environment-variable'  
    When method GET  
    Then status 400  
    And match response.message == '#string'  

    Examples:  
      | context_id |  
      | 'invalid-uuid' |  

  Scenario: Unauthorized access  
    * header Authorization = ''  
    Given path 'context/123e4567-e89b-12d3-a456-426614174000/environment-variable'  
    When method GET  
    Then status 401  
    And match response.message == '#string'  
