# ********RoostGPT********

# Test generated by RoostGPT for test api-karate-petstore-v3 using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Feature file generated for /pet/{petId}_get for http method type GET 
# RoostTestHash=bc8f34e70c
# 
# 

# ********RoostGPT********
Feature: Testing the /pet/{petId} endpoint

  Background:
    * def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http://localhost:4010')
    * url urlBase

  Scenario Outline: Get pet details by petId - Valid ID
    Given path 'pet/<petId>'
    When method GET
    Then status 200
    And match response == '''#object'''
    And match response.id == '''#number'''
    And match response.name == '''#string'''
    And match response.category == '''#object'''
    And match response.category.id == '''#number'''
    And match response.category.name == '''#string'''
    And match response.photoUrls == '''#array'''
    And match response.tags == '''#array'''
    And match response.status == '''#string'''

    Examples:
      | read('pet_petId_get.csv') |

  Scenario Outline: Get pet details by petId - Invalid ID
    Given path 'pet/<petId>'
    When method GET
    Then status 400

    Examples:
      | petId |
      |    -1 |
      |     0 |

  Scenario Outline: Get pet details by petId - Pet not found
    Given path 'pet/<petId>'
    When method GET
    Then status 404

    Examples:
      | petId |
      | 99999 |

  Scenario: Authorization header is required
    Given path 'pet/10'
    * configure headers = '''{ Authorization: #(karate.properties['AUTH_TOKEN']) }'''
    When method GET
    Then status 200
    And match response == '''#object'''
    And match response.id == '''#number'''
    And match response.name == '''#string'''
    And match response.category == '''#object'''
    And match response.category.id == '''#number'''
    And match response.category.name == '''#string'''
    And match response.photoUrls == '''#array'''
    And match response.tags == '''#array'''
    And match response.status == '''#string'''

  Scenario: Response header validation
    Given path 'pet/10'
    When method GET
    Then status 200
    And match responseHeaders['Content-Type'] == '''#string'''
    And responseHeaders['Content-Type'] contains 'application/json'
