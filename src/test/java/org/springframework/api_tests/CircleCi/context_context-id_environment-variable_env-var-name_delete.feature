# ********RoostGPT********

# Test generated by RoostGPT for test api-testing-karate-circle-ci using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Feature file generated for /context/{context-id}/environment-variable/{env-var-name}_delete for http method type DELETE 
# RoostTestHash=197f97d38b
# 
# 

# ********RoostGPT********
Feature: Delete Environment Variable from Context

  Background:
    * def urlBase = karate.properties['API_HOST_URL']
    * url urlBase

  Scenario Outline: Delete an environment variable by valid context ID and environment variable name
    Given path '/context/<context-id>/environment-variable/<env-var-name>'
    When method DELETE
    Then status 200
    And match response ==
      """
      {
        message: '#string'
      }
      """
    And match response.message == '#string'

    Examples:
      | read('context_context-id_environment-variable_env-var-name_delete.csv') |

  Scenario Outline: Delete environment variable with invalid context ID or env-var-name
    Given path '/context/<context-id>/environment-variable/<env-var-name>'
    When method DELETE
    Then status 404
    And match response ==
      """
      {
        message: '#string'
      }
      """

    Examples:
      | context-id                           | env-var-name     |
      | 11111111-1111-1111-1111-111111111111 | POSTGRES_UNKNOWN |
      | 12345678-1234-1234-1234-123456789012 | MYSQL_INVALID    |

  Scenario Outline: Failure response when missing Authorization Header
    Given path '/context/<context-id>/environment-variable/<env-var-name>'
    And header Authorization = null
    When method DELETE
    Then status 401
    And match response ==
      """
      {
        message: '#string'
      }
      """

    Examples:
      | context-id                           | env-var-name  |
      | 123e4567-e89b-12d3-a456-426614174000 | POSTGRES_USER |
      | 987e6543-e89b-21d4-b654-426614177999 | MYSQL_USER    |

  Scenario: Default failure response
    Given path '/context/invalid-context-id/environment-variable/invalid-env-var-name'
    When method DELETE
    Then status 500
    And match response ==
      """
      {
        message: '#string'
      }
      """
