# ********RoostGPT********

# Test generated by RoostGPT for test karateCircleCIFile using AI Type Claude AI and AI Model claude-3-7-sonnet-20250219
# 
# Feature file generated for /organization/{org-slug-or-id}_delete for http method type DELETE 
# RoostTestHash=9009edfbc3
# 
# 

# ********RoostGPT********
Feature: Delete an organization API

  Background:
    * def urlBase = karate.properties['URL_BASE']
    * def basicAuth = 'Basic ' + karate.properties['BASIC_AUTH']

  Scenario Outline: Delete an organization with valid org-slug-or-id
    Given url urlBase
    And path 'organization', <org-slug-or-id>
    And header Authorization = basicAuth
    When method DELETE
    Then status 202
    And match response == { message: '#string' }
    And match response.message != null

    Examples:
      | read('organization_org-slug-or-id_delete.csv') |

  Scenario: Delete an organization with invalid org-slug-or-id
    Given url urlBase
    And path 'organization', 'invalid-org'
    And header Authorization = basicAuth
    When method DELETE
    Then status 400
    And match response == { message: '#string' }

  Scenario: Delete an organization without authentication
    Given url urlBase
    And path 'organization', 'gh/CircleCI-Public'
    When method DELETE
    Then status 401
    And match response == { message: '#string' }

  Scenario: Delete an organization with insufficient permissions
    Given url urlBase
    And path 'organization', 'gh/CircleCI-Public'
    And header Authorization = 'Basic INVALID_AUTH'
    When method DELETE
    Then status 403
    And match response == { message: '#string' }

  Scenario: Delete a non-existent organization
    Given url urlBase
    And path 'organization', 'gh/NonExistentOrg'
    And header Authorization = basicAuth
    When method DELETE
    Then status 404
    And match response == { message: '#string' }
