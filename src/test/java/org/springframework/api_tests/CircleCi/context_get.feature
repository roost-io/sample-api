# ********RoostGPT********

# Test generated by RoostGPT for test karateCircleCIFile using AI Type Claude AI and AI Model claude-3-7-sonnet-20250219
# 
# Feature file generated for /context_get for http method type GET 
# RoostTestHash=bc523b63e2
# 
# 

# ********RoostGPT********
Feature: List contexts API

  Background:
    * def urlBase = karate.properties['URL_BASE']
    * url urlBase

  Scenario: List contexts with owner-id
    Given path '/context'
    And param owner-id = 'c65b68ef-e73b-4bf2-be9a-7a322a9df150'
    When method GET
    Then status 200
    And match response == { items: '#array', next_page_token: '##string' }
    And match each response.items == { id: '#uuid', name: '#string', created_at: '#regex \\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z' }
    And match each response.items[*].id == '#uuid'
    And match each response.items[*].name == '#string'
    And match each response.items[*].created_at == '#string'

  Scenario: List contexts with owner-slug
    Given path '/context'
    And param owner-slug = 'my-organization'
    When method GET
    Then status 200
    And match response == { items: '#array', next_page_token: '##string' }
    And match each response.items == { id: '#uuid', name: '#string', created_at: '#regex \\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z' }
    And match each response.items[*].id == '#uuid'
    And match each response.items[*].name == '#string'
    And match each response.items[*].created_at == '#string'

  Scenario: List contexts with owner-id and owner-type
    Given path '/context'
    And param owner-id = 'c65b68ef-e73b-4bf2-be9a-7a322a9df150'
    And param owner-type = 'organization'
    When method GET
    Then status 200
    And match response == { items: '#array', next_page_token: '##string' }
    And match each response.items == { id: '#uuid', name: '#string', created_at: '#regex \\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z' }
    And match each response.items[*].id == '#uuid'
    And match each response.items[*].name == '#string'
    And match each response.items[*].created_at == '#string'

  Scenario: List contexts with pagination
    Given path '/context'
    And param owner-id = 'c65b68ef-e73b-4bf2-be9a-7a322a9df150'
    And param page-token = 'some-token'
    When method GET
    Then status 200
    And match response == { items: '#array', next_page_token: '##string' }
    And match each response.items == { id: '#uuid', name: '#string', created_at: '#regex \\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z' }
    And match each response.items[*].id == '#uuid'
    And match each response.items[*].name == '#string'
    And match each response.items[*].created_at == '#string'

  Scenario: List contexts with empty page-token
    Given path '/context'
    And param owner-id = 'c65b68ef-e73b-4bf2-be9a-7a322a9df150'
    And param page-token = ''
    When method GET
    Then status 200
    And match response == { items: '#array', next_page_token: '##string' }
    And match each response.items == { id: '#uuid', name: '#string', created_at: '#regex \\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z' }
    And match each response.items[*].id == '#uuid'
    And match each response.items[*].name == '#string'
    And match each response.items[*].created_at == '#string'

  Scenario Outline: List contexts with different owner types
    Given path '/context'
    And param owner-id = 'c65b68ef-e73b-4bf2-be9a-7a322a9df150'
    And param owner-type = '<ownerType>'
    When method GET
    Then status 200
    And match response == { items: '#array', next_page_token: '##string' }
    And match each response.items == { id: '#uuid', name: '#string', created_at: '#regex \\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z' }

    Examples:
      | read('context_get.csv') |

  Scenario: List contexts without required parameters
    Given path '/context'
    When method GET
    Then status 400
    And match response.message == '#string'

  Scenario: List contexts with invalid owner-id
    Given path '/context'
    And param owner-id = 'invalid-uuid'
    When method GET
    Then status 400
    And match response.message == '#string'

  Scenario: List contexts with invalid owner-type
    Given path '/context'
    And param owner-id = 'c65b68ef-e73b-4bf2-be9a-7a322a9df150'
    And param owner-type = 'invalid-type'
    When method GET
    Then status 400
    And match response.message == '#string'
