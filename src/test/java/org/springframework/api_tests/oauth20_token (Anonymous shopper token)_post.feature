# ********RoostGPT********

# Test generated by RoostGPT for test karate-api using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Feature file generated for /oauth20/token (Anonymous shopper token)_post for http method type POST 
# RoostTestHash=d4f8dc192e
# 
# 

# ********RoostGPT********
Feature: Anonymous shopper token

Background:
* def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http://localhost:8080')
* url urlBase
* def authHeader = { Authorization: '#(authToken)' }
* configure headers = authHeader

Scenario Outline: Obtain Anonymous Shopper Token
  Given path '/oauth20/token'
  And header Content-Type = 'application/x-www-form-urlencoded'
  And request {grant_type: '#(grantType)', dr_session_token: '#(sessionToken)'}
  When method post
  Then status <statusCode>
  And match response == {access_token:'#(accessToken)', token_type: 'bearer', expires_in: '3599', refresh_token:'#(refreshToken)'}

  Examples:
  | grantType       | sessionToken     | statusCode | accessToken       | refreshToken     |
  | 'refresh_token' | 'sessionToken1'  | 200        | 'access_token1'   | 'refresh_token1' |
  | 'refresh_token' | 'sessionToken2'  | 401        | 'Invalid request' | 'Error Data'     |

